<!-- 

     HTML dropped by Zend Guard Compressor 4.2

     php.ru team: mz, az, yuri, vb, cyxapuk, 440hz, administrator
     2004-2007 (c) expi-web.com 
     2007-2008 (c) odware.com 
     0101-1010 (с) 440hz

     2b|~2b=?


-->

























































































<!-- EHOT тут всё пожрал ! -->






















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="alternate" type="application/rss+xml" title="php.ru/forum - последние сообщения" href="http://www.php.ru/forum/rss.php">
<link rel="SHORTCUT ICON" href="http://www.php.ru/favicon.ico" />
<META name="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<meta http-equiv="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<META name="keywords" content="php, php5, apache, mysql, session">
<meta http-equiv="keywords" content="php, php5, apache, mysql, session">
<title>php.ru - Session Handling Functions</title>
<LINK REL="stylesheet" TYPE="text/css" HREF="http://www.php.ru/index.css">
<script language="JavaScript" src="http://www.php.ru/ajax/ajax.js"></script>
</head>
<body>

<table height='100%' width='100%' cellspacing='0' cellpadding='0'>
  <tr height='99%' valign='top'>
    <td align='center'>
		
		<table style='margin-top: 4px' width=100% cellspacing=0 cellpadding=3>
   		<tr>
     		<td>PHP - <a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BA%D1%83%D1%80%D1%81%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D0%B0%D0%BA%D1%80%D0%BE%D0%BD%D0%B8%D0%BC" target=_blank class=lnk>рекурсивный акроним</a> словосочетания &laquo;<a href="/manual/introduction.html" class=lnk>PHP: Hypertext Preprocessor</a>&raquo;</td>
     	</tr>
   		</table>

		<script language="JavaScript" src="http://www.php.ru/ajax/subsys_ajax.js"></script>
		<!--

		commet by 440hz
		20.10.2007

		<script language="JavaScript" src="http://www.php.ru/ajax/pu_search.js"></script>

		-->

		<script language="JavaScript" src="http://www.php.ru/ajax/cz.js?a=b"></script>

		<table style='margin-top: 5px' width=100% bgcolor=#9999cc cellspacing=0 cellpadding=0 border=0>
   	 	<form name=SEARCH method=GET action="http://www.php.ru/search/?SID=j1satiscvss1es2h" onsubmit="return puSubmit();">
	  	<input type=hidden name=PAGE value=1>
  		<tr>
    		<td width='1' valign='middle'> 
    		   <a href='/'><img src="http://www.php.ru/;-)/logo.gif" width=133 height=93 alt="php" border=0 hspace=10 vspace=0></a>
			 </td>
		    <td width='100%' valign='middle'>
		       <!--
			   
				commet by 440hz
				20.10.2007

			   <div id='pu_search' class='pu_search'></div>
		       <div id='pu_search_description' class='pu_search_decription'></div>
			   
			   -->
        	 <input type=text style='width:99%; margin: 10px' maxlength='200' name='QS' class='in' id='query' autocomplete='off' value="" />
    		</td>
		  </tr>
   		<tr bgcolor='#666699' valign='middle'>
			<td style='border-top: 1px solid #333366;'><br /></td>
    		<td style='border-top: 1px solid #333366;'><div style="padding: 4px 4px 4px 10px; height: 24px; color: #CCCCFF;" id="stat">Хто там?<script>doLoadCZ('stat','stat');</script></div></td>
  		</tr>
		</form>
		</table>
		<table id="menu" cellspaciong=0 cellpadding=3>
<tr>
<td><a href="/" class=current>Главная</a></td>
<td><a href="/download/" class=current>Скачать</a></td>
<td><a href="/doc/" class=current>Документация</a></td>
<td><a href="/forum/" class=current>Форум</a></td>
<td width=100% align=right><a href="/phpinfo.html" class=current>phpinfo()</a></td>
</tr>
</table>

		
<!--  AdRiver code START. Type:728x90 Site: php.ru PZ: 0 BN: 1 -->
<script language="javascript" type="text/javascript"><!--
var RndNum4NoCash = Math.round(Math.random() * 1000000000);
var ar_Tail='unknown'; if (document.referrer) ar_Tail = escape(document.referrer);
document.write(
'<iframe src="http://ad.adriver.ru/cgi-bin/erle.cgi?'
+ 'sid=148680&bn=1&target=blank&bt=36&pz=0&rnd=' + RndNum4NoCash + '&tail256=' + ar_Tail
+ '" frameborder=0 vspace=0 hspace=0 width=728 height=90 marginwidth=0'
+ ' marginheight=0 scrolling=no></iframe>');
//--></script>
<noscript>
<a href="http://ad.adriver.ru/cgi-bin/click.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" target=_blank>
<img src="http://ad.adriver.ru/cgi-bin/rle.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" alt="-AdRiver-" border=0 width=728 height=90></a>
</noscript>
<!--  AdRiver code END  -->


  		<table width='100%' cellspacing='0' cellpadding='0'>
    		<tr valign='top'>
      		<td width=100%><div style="margin: 10px 10px 10px 50px;"><center><div style="width: 800px; text-align: left"><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Руководство по PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.session-pgsql-status.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.session-cache-expire.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="reference"
><A
NAME="ref.session"
></A
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
>CXLII. Session Handling Functions</H1
><DIV
CLASS="PARTINTRO"
><A
NAME="AEN165475"
></A
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.intro"
>Введение</A
></H1
><P
>&#13;     Session support in PHP consists of a way to preserve certain data
     across subsequent accesses. This enables you to build more
     customized applications and increase the appeal of your web site.
    </P
><P
>&#13;     A visitor accessing your web site is assigned a unique id, the
     so-called session id. This is either stored in a cookie on the
     user side or is propagated in the URL.
    </P
><P
>&#13;     The session support allows you to register arbitrary numbers of
     variables to be preserved across requests. When a visitor accesses
     your site, PHP will check automatically (if <A
HREF="ref.session.html#ini.session.auto-start"
>session.auto_start</A
>
     is set to 1) or on your request (explicitly through
     <A
HREF="function.session-start.html"
><B
CLASS="function"
>session_start()</B
></A
> or implicitly through
     <A
HREF="function.session-register.html"
><B
CLASS="function"
>session_register()</B
></A
>) whether a specific session
     id has been sent with the request. If this is the case, the prior
     saved environment is recreated.
    </P
><DIV
CLASS="caution"
><P
></P
><TABLE
CLASS="caution"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Предостережение</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;       If you do turn on <A
HREF="ref.session.html#ini.session.auto-start"
>&#13;       session.auto_start</A
> then you cannot put  objects into
       your sessions since the class definition has to be
       loaded before starting the session in order to recreate the
       objects in your session.
      </P
></TD
></TR
></TABLE
></DIV
><P
>&#13;     All registered variables are serialized after the request
     finishes.  Registered variables which are undefined are marked as
     being not defined.  On subsequent accesses, these are not defined
     by the session module unless the user defines them later.
    </P
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Внимание</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;      Some types of data can not be serialized thus stored in sessions. It
      includes <A
HREF="language.types.resource.html"
><B
CLASS="type"
>resource</B
></A
> variables or objects with circular
      references (i.e. objects which passes a reference to itself to another
      object).
     </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      Session handling was added in PHP 4.0.
     </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      Please note when working with sessions that a record of a session
      is not created until a variable has been registered using the
      <A
HREF="function.session-register.html"
><B
CLASS="function"
>session_register()</B
></A
> function or by adding a new 
      key to the <VAR
CLASS="varname"
>$_SESSION</VAR
> superglobal array. This 
      holds true regardless of if a session has been started using the 
      <A
HREF="function.session-start.html"
><B
CLASS="function"
>session_start()</B
></A
> function. 
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.security"
>Sessions and security</A
></H1
><P
>&#13;     External links: <A
HREF="http://www.acros.si/papers/session_fixation.pdf"
TARGET="_top"
>Session fixation</A
>
    </P
><P
>&#13;     The session module cannot guarantee that the information you store
     in a session is only viewed by the user who created the session. You need
     to take additional measures to actively protect the integrity of the
     session, depending on the value associated with it.
    </P
><P
>&#13;     Assess the importance of the data carried by your sessions and deploy
     additional protections -- this usually comes at a price, reduced
     convenience for the user.  For example, if you want to protect users from
     simple social engineering tactics, you need to enable
     <VAR
CLASS="literal"
>session.use_only_cookies</VAR
>.  In that case,
     cookies must be enabled unconditionally on the user side, or
     sessions will not work.
    </P
><P
>&#13;     There are several ways to leak an existing session id to third parties.
     A leaked session id enables the third party to access all resources which
     are associated with a specific id.  First, URLs carrying session ids.  If
     you link to an external site, the URL including the session id might be
     stored in the external site's referrer logs. Second, a more active
     attacker might listen to your network traffic. If it is not encrypted,
     session ids will flow in plain text over the network. The solution here
     is to implement SSL on your server and make it mandatory for users.
    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.requirements"
>Требования</A
></H1
><P
>Эти функции всегда доступны.</P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      Optionally you can use shared memory allocation (mm), developed by
      Ralf S. Engelschall, for session storage. You have to download
      <A
HREF="http://www.ossp.org/pkg/lib/mm/"
TARGET="_top"
>mm</A
> and install it. This option is not
      available for Windows platforms. Note that the session storage module
      for mm does not guarantee that concurrent accesses to the same session
      are properly locked. It might be more appropriate to use a shared memory
      based filesystem (such as tmpfs on Solaris/Linux, or /dev/md on BSD) to
      store sessions in files, because they are properly locked.
      Session data is stored in memory thus web server restart deletes it.
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.installation"
>Установка</A
></H1
><P
>&#13;  Session support is enabled in PHP by default. If you would
  not like to build your PHP with session support, you should
  specify the <VAR
CLASS="option"
>--disable-session</VAR
>
  option to configure. To use shared memory allocation (mm) for session
  storage configure PHP <VAR
CLASS="option"
>--with-mm[=DIR] </VAR
>.
 </P
><P
> Версия <VAR
CLASS="literal"
>PHP</VAR
> для
Windows имеет встроенную поддержку данного расширения. Это означает, что
для использования данных функций не требуется загрузка никаких
дополнительных расширений.</P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
   By default, all data related to a particular session will be stored in
   a file in the directory specified by the session.save_path INI option.
   A file for each session (regardless of if any data is associated with
   that session) will be created. This is due to the fact that a session
   is opened (a file is created) but no data is even written to that file.
   Note that this behavior is a side-effect of the limitations of working
   with the file system and it is possible that a custom session handler
   (such as one which uses a database) does not keep track of sessions
   which store no data. 
  </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.configuration"
>Настройка во время выполнения</A
></H1
><P
>&#13;Поведение этих функций зависит от установок в <TT
CLASS="filename"
>php.ini</TT
>.
</P
><P
>&#13; <DIV
CLASS="table"
><A
NAME="AEN165526"
></A
><P
><B
>Таблица 1. Session configuration options</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><THEAD
><TR
><TH
>Name</TH
><TH
>Default</TH
><TH
>Changeable</TH
><TH
>Changelog</TH
></TR
></THEAD
><TBODY
><TR
><TD
>session.save_path</TD
><TD
>""</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.name</TD
><TD
>"PHPSESSID"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.save_handler</TD
><TD
>"files"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.auto_start</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.gc_probability</TD
><TD
>"1"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.gc_divisor</TD
><TD
>"100"</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 4.3.2.</TD
></TR
><TR
><TD
>session.gc_maxlifetime</TD
><TD
>"1440"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.serialize_handler</TD
><TD
>"php"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.cookie_lifetime</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.cookie_path</TD
><TD
>"/"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.cookie_domain</TD
><TD
>""</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.cookie_secure</TD
><TD
>""</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 4.0.4.</TD
></TR
><TR
><TD
>session.cookie_httponly</TD
><TD
>""</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 5.2.0.</TD
></TR
><TR
><TD
>session.use_cookies</TD
><TD
>"1"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.use_only_cookies</TD
><TD
>"1"</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 4.3.0.</TD
></TR
><TR
><TD
>session.referer_check</TD
><TD
>""</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.entropy_file</TD
><TD
>""</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.entropy_length</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.cache_limiter</TD
><TD
>"nocache"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.cache_expire</TD
><TD
>"180"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>session.use_trans_sid</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
><TD
>PHP_INI_ALL in PHP &#60;= 4.2.3. PHP_INI_PERDIR in PHP &#60; 5. Available since PHP 4.0.3.</TD
></TR
><TR
><TD
>session.bug_compat_42</TD
><TD
>"1"</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 4.3.0.</TD
></TR
><TR
><TD
>session.bug_compat_warn</TD
><TD
>"1"</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 4.3.0.</TD
></TR
><TR
><TD
>session.hash_function</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 5.0.0.</TD
></TR
><TR
><TD
>session.hash_bits_per_character</TD
><TD
>"4"</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 5.0.0.</TD
></TR
><TR
><TD
>url_rewriter.tags</TD
><TD
>"a=href,area=href,frame=src,form=,fieldset="</TD
><TD
>PHP_INI_ALL</TD
><TD
>Available since PHP 4.0.4.</TD
></TR
></TBODY
></TABLE
></DIV
>
 Для подробного описания констант
PHP_INI_*, обратитесь к документации функции <A
HREF="function.ini-set.html"
><B
CLASS="function"
>ini_set()</B
></A
>.
 </P
><P
>&#13;  The session management system supports a number of configuration
  options which you can place in your <TT
CLASS="filename"
>php.ini</TT
> file. We will give a
  short overview.
 <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><A
NAME="ini.session.save-handler"
></A
><VAR
CLASS="parameter"
>session.save_handler</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.save_handler</VAR
> defines the name of the
     handler which is used for storing and retrieving data
     associated with a session. Defaults to
     <VAR
CLASS="literal"
>files</VAR
>. See also
     <A
HREF="function.session-set-save-handler.html"
><B
CLASS="function"
>session_set_save_handler()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.save-path"
></A
><VAR
CLASS="parameter"
>session.save_path</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.save_path</VAR
> defines the argument which
     is passed to the save handler. If you choose the default files
     handler, this is the path where the files are created.  Defaults to
     <VAR
CLASS="literal"
>/tmp</VAR
>.  See also
     <A
HREF="function.session-save-path.html"
><B
CLASS="function"
>session_save_path()</B
></A
>. 
    </P
><P
>&#13;     There is an optional N argument to this directive that determines 
     the number of directory levels your session files will be spread
     around in.  For example, setting to <VAR
CLASS="literal"
>'5;/tmp'</VAR
>
     may end up creating a session file and location like
     <VAR
CLASS="literal"
>/tmp/4/b/1/e/3/sess_4b1e384ad74619bd212e236e52a5a174If
     </VAR
>.  In order to use N you must create all of these
     directories before use.  A small shell script exists in
     <TT
CLASS="filename"
>ext/session</TT
> to do this, it's called
     <TT
CLASS="filename"
>mod_files.sh</TT
>.  Also note that if N is
     used and greater than 0 then automatic garbage collection will
     not be performed, see a copy of <TT
CLASS="filename"
>php.ini</TT
> for further
     information.  Also, if you use N, be sure to surround
     <VAR
CLASS="literal"
>session.save_path</VAR
> in  
     "quotes" because the separator (<VAR
CLASS="literal"
>;</VAR
>) is
     also used for comments in <TT
CLASS="filename"
>php.ini</TT
>.
    </P
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Внимание</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;      If you leave this set to a world-readable directory, such as
      <TT
CLASS="filename"
>/tmp</TT
> (the default), other users on the
      server may be able to hijack sessions by getting the list of
      files in that directory.
     </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      Prior to PHP 4.3.6, Windows users had to change this variable in order
      to use PHP's session functions. A valid path must be specified, e.g.:
      <TT
CLASS="filename"
>c:/temp</TT
>.
     </P
></BLOCKQUOTE
></DIV
></DD
><DT
><A
NAME="ini.session.name"
></A
><VAR
CLASS="parameter"
>session.name</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.name</VAR
> specifies the name of the
     session which is used as cookie name. It should only contain
     alphanumeric characters. Defaults to <VAR
CLASS="literal"
>PHPSESSID</VAR
>.
     See also <A
HREF="function.session-name.html"
><B
CLASS="function"
>session_name()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.auto-start"
></A
><VAR
CLASS="parameter"
>session.auto_start</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.auto_start</VAR
> specifies whether the
     session module starts a session automatically on request
     startup. Defaults to <VAR
CLASS="literal"
>0</VAR
> (disabled).
    </P
></DD
><DT
><A
NAME="ini.session.serialize-handler"
></A
><VAR
CLASS="parameter"
>session.serialize_handler</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.serialize_handler</VAR
> defines the name
     of the handler which is used to serialize/deserialize
     data. Currently, a PHP internal format (name
     <VAR
CLASS="literal"
>php</VAR
>) and WDDX are supported (name
     <VAR
CLASS="literal"
>wddx</VAR
>). WDDX is only available, if PHP is
     compiled with <A
HREF="ref.wddx.html"
>WDDX
     support</A
>. Defaults to <VAR
CLASS="literal"
>php</VAR
>.
    </P
></DD
><DT
><A
NAME="ini.session.gc-probability"
></A
><VAR
CLASS="parameter"
>session.gc_probability</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.gc_probability</VAR
> in conjunction with
     <VAR
CLASS="literal"
>session.gc_divisor</VAR
> is used to manage probability
     that the gc (garbage collection) routine is started.
     Defaults to <VAR
CLASS="literal"
>1</VAR
>. See <A
HREF="ref.session.html#ini.session.gc-divisor"
>session.gc_divisor</A
> for details.
    </P
></DD
><DT
><A
NAME="ini.session.gc-divisor"
></A
><VAR
CLASS="parameter"
>session.gc_divisor</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.gc_divisor</VAR
> coupled with 
     <VAR
CLASS="literal"
>session.gc_probability</VAR
> defines the probability 
     that the gc (garbage collection) process is started on every session 
     initialization.
     The probability is calculated by using gc_probability/gc_divisor,
     e.g. 1/100 means there is a 1% chance that the GC process starts
     on each request.
     <VAR
CLASS="literal"
>session.gc_divisor</VAR
> defaults to <VAR
CLASS="literal"
>100</VAR
>.
    </P
></DD
><DT
><A
NAME="ini.session.gc-maxlifetime"
></A
><VAR
CLASS="parameter"
>session.gc_maxlifetime</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.gc_maxlifetime</VAR
> specifies the number
     of seconds after which data will be seen as 'garbage' and
     cleaned up. Garbage collection occurs during session start.
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      If different scripts have different values of
      <VAR
CLASS="literal"
>session.gc_maxlifetime</VAR
> but share the same place for
      storing the session data then the script with the minimum value will be
      cleaning the data. In this case, use this directive together with <A
HREF="ref.session.html#ini.session.save-path"
>session.save_path</A
>.
     </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>If you are using the default file-based session handler, your
     filesystem must keep track of access times (atime). Windows FAT does
     not so you will have to come up with another way to handle garbage
     collecting your session if you are stuck with a FAT filesystem or any
     other filesystem where atime tracking is not available.
     Since PHP 4.2.3 it has used mtime (modified date) instead of atime. So, you
     won't have problems with filesystems where atime tracking is not available.
     </P
></BLOCKQUOTE
></DIV
></DD
><DT
><A
NAME="ini.session.referer-check"
></A
><VAR
CLASS="parameter"
>session.referer_check</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.referer_check</VAR
> contains the
     substring you want to check each HTTP Referer for. If the
     Referer was sent by the client and the substring was not
     found, the embedded session id will be marked as invalid.
     Defaults to the empty string.
    </P
></DD
><DT
><A
NAME="ini.session.entropy-file"
></A
><VAR
CLASS="parameter"
>session.entropy_file</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.entropy_file</VAR
> gives a path to an
     external resource (file) which will be used as an additional
     entropy source in the session id creation process. Examples are
     <VAR
CLASS="literal"
>/dev/random</VAR
> or <VAR
CLASS="literal"
>/dev/urandom</VAR
>
     which are available on many Unix systems.
    </P
></DD
><DT
><A
NAME="ini.session.entropy-length"
></A
><VAR
CLASS="parameter"
>session.entropy_length</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.entropy_length</VAR
> specifies the number
     of bytes which will be read from the file specified
     above. Defaults to <VAR
CLASS="literal"
>0</VAR
> (disabled).
    </P
></DD
><DT
><A
NAME="ini.session.use-cookies"
></A
><VAR
CLASS="parameter"
>session.use_cookies</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.use_cookies</VAR
> specifies whether the
     module will use cookies to store the session id on the client
     side. Defaults to <VAR
CLASS="literal"
>1</VAR
> (enabled).
    </P
></DD
><DT
><A
NAME="ini.session.use-only-cookies"
></A
><VAR
CLASS="parameter"
>session.use_only_cookies</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.use_only_cookies</VAR
> specifies whether
     the module will <SPAN
CLASS="strong"
><B
CLASS="emphasis"
>only</B
></SPAN
> use
     cookies to store the session id on the client side.
     Enabling this setting prevents attacks involved passing session
     ids in URLs. This setting was added in PHP 4.3.0.
    </P
></DD
><DT
><A
NAME="ini.session.cookie-lifetime"
></A
><VAR
CLASS="parameter"
>session.cookie_lifetime</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.cookie_lifetime</VAR
> specifies the lifetime of
     the cookie in seconds which is sent to the browser. The value 0
     means "until the browser is closed." Defaults to
     <VAR
CLASS="literal"
>0</VAR
>. See also
     <A
HREF="function.session-get-cookie-params.html"
><B
CLASS="function"
>session_get_cookie_params()</B
></A
> and
     <A
HREF="function.session-set-cookie-params.html"
><B
CLASS="function"
>session_set_cookie_params()</B
></A
>.
     Since the cookie is returned by the browser, it is not prolonged to
     suffice the lifetime. It must be sent manually by
     <A
HREF="function.setcookie.html"
><B
CLASS="function"
>setcookie()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.cookie-path"
></A
><VAR
CLASS="parameter"
>session.cookie_path</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.cookie_path</VAR
> specifies path to set
     in session_cookie. Defaults to <VAR
CLASS="literal"
>/</VAR
>. See also
     <A
HREF="function.session-get-cookie-params.html"
><B
CLASS="function"
>session_get_cookie_params()</B
></A
> and
     <A
HREF="function.session-set-cookie-params.html"
><B
CLASS="function"
>session_set_cookie_params()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.cookie-domain"
></A
><VAR
CLASS="parameter"
>session.cookie_domain</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.cookie_domain</VAR
> specifies the domain to
     set in session_cookie. Default is none at all meaning the host name of
     the server which generated the cookie according to cookies specification.
     See also <A
HREF="function.session-get-cookie-params.html"
><B
CLASS="function"
>session_get_cookie_params()</B
></A
> and
     <A
HREF="function.session-set-cookie-params.html"
><B
CLASS="function"
>session_set_cookie_params()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.cookie-secure"
></A
><VAR
CLASS="parameter"
>session.cookie_secure</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.cookie_secure</VAR
> specifies whether
     cookies should only be sent over secure connections. Defaults to
     <VAR
CLASS="literal"
>off</VAR
>.
     This setting was added in PHP 4.0.4. See also
     <A
HREF="function.session-get-cookie-params.html"
><B
CLASS="function"
>session_get_cookie_params()</B
></A
> and
     <A
HREF="function.session-set-cookie-params.html"
><B
CLASS="function"
>session_set_cookie_params()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.cookie-httponly"
></A
><VAR
CLASS="parameter"
>session.cookie_httponly</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     Marks the cookie as accessible only through the HTTP protocol. This means
     that the cookie won't be accessible by scripting languages, such as
     JavaScript. This setting can effectively help to reduce identity theft
     through XSS attacks (although it is not supported by all browsers).
    </P
></DD
><DT
><A
NAME="ini.session.cache-limiter"
></A
><VAR
CLASS="parameter"
>session.cache_limiter</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.cache_limiter</VAR
> specifies cache
     control method to use for session pages
     (none/nocache/private/private_no_expire/public). Defaults to
     <VAR
CLASS="literal"
>nocache</VAR
>. See also
     <A
HREF="function.session-cache-limiter.html"
><B
CLASS="function"
>session_cache_limiter()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.cache-expire"
></A
><VAR
CLASS="parameter"
>session.cache_expire</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.cache_expire</VAR
> specifies time-to-live
     for cached session pages in minutes, this has no effect for
     nocache limiter. Defaults to <VAR
CLASS="literal"
>180</VAR
>. See also
     <A
HREF="function.session-cache-expire.html"
><B
CLASS="function"
>session_cache_expire()</B
></A
>.
    </P
></DD
><DT
><A
NAME="ini.session.use-trans-sid"
></A
><VAR
CLASS="parameter"
>session.use_trans_sid</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.use_trans_sid</VAR
> whether transparent
     sid support is enabled or not. Defaults to
     <VAR
CLASS="literal"
>0</VAR
> (disabled).
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      For PHP 4.1.2 or less, it is enabled by compiling with 
      <A
HREF="configure.html#configure.enable-trans-sid"
>&#13;      <VAR
CLASS="literal"
>--enable-trans-sid</VAR
></A
>.
      From PHP 4.2.0, trans-sid feature is always compiled.
     </P
><P
>&#13;      URL based session management has additional security risks
      compared to cookie based session management. Users may send
      a URL that contains an active session ID to their friends by
      email or users may save a URL that contains a session ID to
      their bookmarks and access your site with the same session ID
      always, for example.
     </P
></BLOCKQUOTE
></DIV
></DD
><DT
><A
NAME="ini.session.bug-compat-42"
></A
><VAR
CLASS="parameter"
>session.bug_compat_42</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     PHP versions 4.2.3 and lower have an undocumented feature/bug that
     allows you to initialize a session variable in the global scope,
     albeit <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>
     is disabled.  PHP 4.3.0 and later will warn you, if this feature is
     used, and if <A
HREF="ref.session.html#ini.session.bug-compat-warn"
>&#13;     session.bug_compat_warn</A
> is also enabled.  This feature/bug can be
     disabled by disabling this directive.
    </P
></DD
><DT
><A
NAME="ini.session.bug-compat-warn"
></A
><VAR
CLASS="parameter"
>session.bug_compat_warn</VAR
>
    <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     PHP versions 4.2.3 and lower have an undocumented feature/bug that
     allows you to initialize a session variable in the global scope,
     albeit <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>
     is disabled.  PHP 4.3.0 and later will warn you, if this feature is
     used by enabling both 
     <A
HREF="ref.session.html#ini.session.bug-compat-42"
>session.bug_compat_42</A
>
     and <A
HREF="ref.session.html#ini.session.bug-compat-warn"
>&#13;     session.bug_compat_warn</A
>.
    </P
></DD
><DT
><A
NAME="ini.session.hash-function"
></A
><VAR
CLASS="parameter"
>session.hash_function</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.hash_function</VAR
> allows you to specify the hash
     algorithm used to generate the session IDs. '0' means MD5 (128 bits) and
     '1' means SHA-1 (160 bits).
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      This was introduced in PHP 5.
     </P
></BLOCKQUOTE
></DIV
></DD
><DT
><A
NAME="ini.session.hash-bits-per-character"
></A
><VAR
CLASS="parameter"
>session.hash_bits_per_character</VAR
>
    <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>session.hash_bits_per_character</VAR
> allows you to define
     how many bits are stored in each character when converting the binary
     hash data to something readable. The possible values are '4' (0-9, a-f),
     '5' (0-9, a-v), and '6' (0-9, a-z, A-Z, "-", ",").
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      This was introduced in PHP 5.
     </P
></BLOCKQUOTE
></DIV
></DD
><DT
><A
NAME="ini.url-rewriter.tags"
></A
><VAR
CLASS="parameter"
>url_rewriter.tags</VAR
>
    <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;     <VAR
CLASS="literal"
>url_rewriter.tags</VAR
> specifies which HTML tags
     are rewritten to include session id if transparent sid support
     is enabled. Defaults to
     <VAR
CLASS="literal"
>a=href,area=href,frame=src,input=src,form=fakeentry,fieldset=</VAR
>
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      If you want XHTML conformity, remove the <VAR
CLASS="literal"
>form</VAR
> entry and
      use the &#60;fieldset&#62; tags around your form fields.
     </P
></BLOCKQUOTE
></DIV
></DD
></DL
></DIV
>
 </P
><P
>&#13;  The <A
HREF="ini.core.html#ini.track-vars"
><VAR
CLASS="literal"
>track_vars</VAR
></A
> and
  <A
HREF="ini.core.html#ini.register-globals"
><VAR
CLASS="literal"
>register_globals</VAR
></A
>
  configuration settings influence how the session variables get
  stored and restored.
 </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
   As of PHP 4.0.3, <A
HREF="ini.core.html#ini.track-vars"
><VAR
CLASS="literal"
>track_vars</VAR
></A
> is
   always turned on.
  </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.resources"
>Типы ресурсов</A
></H1
><P
>Данное расширение не определяет никакие типы ресурсов.</P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.constants"
>Предопределенные константы</A
></H1
><P
>&#13;Перечисленные ниже константы определены данным расширением и могут быть
доступны только в том случае, если PHP был собран с
поддержкой этого расширения или же в том случае, если
данное расширение подгружается во время выполнения.
</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="constant"
><B
>SID</B
></TT
> 
    (<A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
>)</DT
><DD
><P
>&#13;     Constant containing either the session name and session ID in
     the form of <VAR
CLASS="literal"
>"name=ID"</VAR
> or empty string
     if session ID was set in an appropriate session cookie.
    </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.examples"
>Примеры</A
></H1
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      As of PHP 4.1.0, <VAR
CLASS="varname"
>$_SESSION</VAR
> is available as a 
      global variable just like <VAR
CLASS="varname"
>$_POST</VAR
>,
      <VAR
CLASS="varname"
>$_GET</VAR
>, <VAR
CLASS="varname"
>$_REQUEST</VAR
> and so on.
      Unlike <VAR
CLASS="varname"
>$HTTP_SESSION_VARS</VAR
>,
      <VAR
CLASS="varname"
>$_SESSION</VAR
> is always global. Therefore, you do not
      need to use the <A
HREF="language.variables.scope.html"
><B
CLASS="command"
>global</B
></A
>
      keyword for <VAR
CLASS="varname"
>$_SESSION</VAR
>. Please note that this
      documentation has been changed to use
      <VAR
CLASS="varname"
>$_SESSION</VAR
> everywhere. You can substitute
      <VAR
CLASS="varname"
>$HTTP_SESSION_VARS</VAR
> for
      <VAR
CLASS="varname"
>$_SESSION</VAR
>, if you prefer the former.  Also note
      that you must start your session using <A
HREF="function.session-start.html"
><B
CLASS="function"
>session_start()</B
></A
> 
      before use of <VAR
CLASS="varname"
>$_SESSION</VAR
> becomes available.
     </P
><P
>&#13;      The keys in the <VAR
CLASS="varname"
>$_SESSION</VAR
> associative
      array are subject to the
      same limitations as regular variable names in PHP, i.e. they cannot
      start with a number and must start with a letter or underscore.
      For more details see the section on
      <A
HREF="language.variables.html"
>variables</A
> in this manual.
     </P
></BLOCKQUOTE
></DIV
><P
>&#13;     If <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>
     is disabled, only members of the global associative array
     <VAR
CLASS="varname"
>$_SESSION</VAR
> can be registered as session
     variables. The restored session variables will only be available
     in the array <VAR
CLASS="varname"
>$_SESSION</VAR
>.
    </P
><P
>&#13;     Use of <VAR
CLASS="varname"
>$_SESSION</VAR
> (or
     <VAR
CLASS="varname"
>$HTTP_SESSION_VARS</VAR
> with PHP 4.0.6 or less) is
     recommended for improved security and code readability. With
     <VAR
CLASS="varname"
>$_SESSION</VAR
>, there is no need to use the
     <A
HREF="function.session-register.html"
><B
CLASS="function"
>session_register()</B
></A
>,
     <A
HREF="function.session-unregister.html"
><B
CLASS="function"
>session_unregister()</B
></A
>,
     <A
HREF="function.session-is-registered.html"
><B
CLASS="function"
>session_is_registered()</B
></A
> functions. Session variables
     are accessible like any other variables.
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN165982"
></A
><P
><B
>Пример 1. 
       Registering a variable with <VAR
CLASS="varname"
>$_SESSION</VAR
>.
      </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />session_start</font><font color="#007700">();<br /></font><font color="#FF8000">// Use $HTTP_SESSION_VARS with PHP 4.0.6 or less<br /></font><font color="#007700">if (!isset(</font><font color="#0000BB">$_SESSION</font><font color="#007700">[</font><font color="#DD0000">'count'</font><font color="#007700">])) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$_SESSION</font><font color="#007700">[</font><font color="#DD0000">'count'</font><font color="#007700">] = </font><font color="#0000BB">0</font><font color="#007700">;<br />} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$_SESSION</font><font color="#007700">[</font><font color="#DD0000">'count'</font><font color="#007700">]++;<br />}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN165986"
></A
><P
><B
>Пример 2. 
       Unregistering a variable with <VAR
CLASS="varname"
>$_SESSION</VAR
> and
       <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
> disabled.
      </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />session_start</font><font color="#007700">();<br /></font><font color="#FF8000">// Use $HTTP_SESSION_VARS with PHP 4.0.6 or less<br /></font><font color="#007700">unset(</font><font color="#0000BB">$_SESSION</font><font color="#007700">[</font><font color="#DD0000">'count'</font><font color="#007700">]);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
    </P
><P
>&#13;     <DIV
CLASS="caution"
><P
></P
><TABLE
CLASS="caution"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Предостережение</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;       Do NOT unset the whole <VAR
CLASS="varname"
>$_SESSION</VAR
> with
       <VAR
CLASS="literal"
>unset($_SESSION)</VAR
> as this will disable the
       registering of session variables through the
       <VAR
CLASS="varname"
>$_SESSION</VAR
> superglobal.
      </P
></TD
></TR
></TABLE
></DIV
>
    </P
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Внимание</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;      You can't use references in session variables as there is no feasible way
      to restore a reference to another variable.
     </P
></TD
></TR
></TABLE
></DIV
><P
>&#13;     If <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>
     is enabled, then each global variable can be registered as session
     variable. Upon a restart of a session, these variables will be restored
     to corresponding global variables. Since PHP must know which global
     variables are registered as session variables, users need to register
     variables with <A
HREF="function.session-register.html"
><B
CLASS="function"
>session_register()</B
></A
> function.
     You can avoid this by simply setting entries in
     <VAR
CLASS="varname"
>$_SESSION</VAR
>.
     <DIV
CLASS="caution"
><P
></P
><TABLE
CLASS="caution"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Предостережение</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;       Before PHP 4.3, if you are using <VAR
CLASS="varname"
>$_SESSION</VAR
> and you
       have disabled <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>,
       don't use <A
HREF="function.session-register.html"
><B
CLASS="function"
>session_register()</B
></A
>,
       <A
HREF="function.session-is-registered.html"
><B
CLASS="function"
>session_is_registered()</B
></A
> or
       <A
HREF="function.session-unregister.html"
><B
CLASS="function"
>session_unregister()</B
></A
>.
        Disabling <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>
        is recommended for both security and performance reasons.
      </P
></TD
></TR
></TABLE
></DIV
>
    </P
><P
>&#13;     If <A
HREF="ini.core.html#ini.register-globals"
>register_globals</A
>
     is enabled, then the global variables and the
     <VAR
CLASS="varname"
>$_SESSION</VAR
> entries will automatically reference the
     same values which were registered in the prior session instance.
     However, if the variable is registered by <VAR
CLASS="varname"
>$_SESSION</VAR
>
     then the global variable is available since the next request.
    </P
><P
>&#13;     There is a defect in PHP 4.2.3 and earlier.  If you register a new
     session variable by using <A
HREF="function.session-register.html"
><B
CLASS="function"
>session_register()</B
></A
>, the
     entry in the global scope and the <VAR
CLASS="varname"
>$_SESSION</VAR
> entry will
     not reference the same value until the next
     <A
HREF="function.session-start.html"
><B
CLASS="function"
>session_start()</B
></A
>.  I.e. a modification to the newly
     registered global variable will not be reflected by the
     <VAR
CLASS="varname"
>$_SESSION</VAR
> entry.  This has been corrected in PHP 4.3.
    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.idpassing"
>Passing the Session ID</A
></H1
><P
>&#13;     There are two methods to propagate a session id:
     <P
></P
><UL
><LI
><P
>&#13;        Cookies
       </P
></LI
><LI
><P
>&#13;        URL parameter
       </P
></LI
></UL
>
    </P
><P
>&#13;     The session module supports both methods. Cookies are optimal, but
     because they are not always available, we also provide an alternative
     way.  The second method embeds the session id directly into URLs.
    </P
><P
>&#13;     PHP is capable of transforming links transparently. Unless you are using
     PHP 4.2 or later, you need to enable it manually when building PHP.
     Under Unix, pass <A
HREF="ref.session.html#ini.session.use-trans-sid"
>&#13;     --enable-trans-sid</A
> to configure. If this build
     option and the run-time option
     <VAR
CLASS="literal"
>session.use_trans_sid</VAR
> are enabled, relative
     URIs will be changed to contain the session id automatically.
     <DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      The <A
HREF="ini.core.html#ini.arg-separator.output"
>arg_separator.output</A
>
      <TT
CLASS="filename"
>php.ini</TT
> directive allows to customize the argument seperator. For full
      XHTML conformance, specify &#38;amp; there.
      </P
></BLOCKQUOTE
></DIV
> 
    </P
><P
>&#13;     Alternatively, you can use the constant <VAR
CLASS="literal"
>SID</VAR
> which is
     defined if the session started.  If the client did not send an appropriate session
     cookie, it has the form <VAR
CLASS="literal"
>session_name=session_id</VAR
>.
     Otherwise, it expands to an empty string. Thus, you can embed it
     unconditionally into URLs.
    </P
><P
>&#13;     The following example demonstrates how to register a variable, and
     how to link correctly to another page using SID.
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN166040"
></A
><P
><B
>Пример 3. Counting the number of hits of a single user</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">if (!</font><font color="#0000BB">session_is_registered</font><font color="#007700">(</font><font color="#DD0000">'count'</font><font color="#007700">)) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">session_register</font><font color="#007700">(</font><font color="#DD0000">'count'</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$count </font><font color="#007700">= </font><font color="#0000BB">1</font><font color="#007700">;<br />} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$count</font><font color="#007700">++;<br />}<br /></font><font color="#0000BB">?&gt;<br /></font><br />&lt;p&gt;<br />Hello visitor, you have seen this page <font color="#0000BB">&lt;?php </font><font color="#007700">echo </font><font color="#0000BB">$count</font><font color="#007700">; </font><font color="#0000BB">?&gt;</font> times.<br />&lt;/p&gt;<br /><br />&lt;p&gt;<br />To continue, &lt;a href="nextpage.php?<font color="#0000BB">&lt;?php </font><font color="#007700">echo </font><font color="#0000BB">strip_tags</font><font color="#007700">(</font><font color="#0000BB">SID</font><font color="#007700">); </font><font color="#0000BB">?&gt;</font>"&gt;click<br />here&lt;/a&gt;.<br />&lt;/p&gt;</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
    </P
><P
>&#13;     The <A
HREF="function.strip-tags.html"
><B
CLASS="function"
>strip_tags()</B
></A
> is used when printing the SID 
     in order to prevent XSS related attacks.
    </P
><P
>&#13;     Printing the SID, like shown above, is not necessary if
     <A
HREF="ref.session.html#ini.session.use-trans-sid"
>&#13;     --enable-trans-sid</A
> was used to compile PHP.
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
      Non-relative URLs are assumed to point to external sites and
      hence don't append the SID, as it would be a security risk to
      leak the SID to a different server.
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="session.customhandler"
>Custom Session Handlers</A
></H1
><P
>&#13;     To implement database storage, or any other storage method, you
     will need to use <A
HREF="function.session-set-save-handler.html"
><B
CLASS="function"
>session_set_save_handler()</B
></A
> to
     create a set of user-level storage functions.
    </P
></DIV
></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
><A
HREF="function.session-cache-expire.html"
>session_cache_expire</A
>&nbsp;--&nbsp;Return current cache expire</DT
><DT
><A
HREF="function.session-cache-limiter.html"
>session_cache_limiter</A
>&nbsp;--&nbsp;Get and/or set the current cache limiter</DT
><DT
><A
HREF="function.session-commit.html"
>session_commit</A
>&nbsp;--&nbsp;Alias of <A
HREF="function.session-write-close.html"
><B
CLASS="function"
>session_write_close()</B
></A
></DT
><DT
><A
HREF="function.session-decode.html"
>session_decode</A
>&nbsp;--&nbsp;Decodes session data from a string</DT
><DT
><A
HREF="function.session-destroy.html"
>session_destroy</A
>&nbsp;--&nbsp;Destroys all data registered to a session</DT
><DT
><A
HREF="function.session-encode.html"
>session_encode</A
>&nbsp;--&nbsp;
     Encodes the current session data as a string
    </DT
><DT
><A
HREF="function.session-get-cookie-params.html"
>session_get_cookie_params</A
>&nbsp;--&nbsp;
     Get the session cookie parameters
    </DT
><DT
><A
HREF="function.session-id.html"
>session_id</A
>&nbsp;--&nbsp;Get and/or set the current session id</DT
><DT
><A
HREF="function.session-is-registered.html"
>session_is_registered</A
>&nbsp;--&nbsp;
     Find out whether a global variable is registered in a session
    </DT
><DT
><A
HREF="function.session-module-name.html"
>session_module_name</A
>&nbsp;--&nbsp;Get and/or set the current session module</DT
><DT
><A
HREF="function.session-name.html"
>session_name</A
>&nbsp;--&nbsp;Get and/or set the current session name</DT
><DT
><A
HREF="function.session-regenerate-id.html"
>session_regenerate_id</A
>&nbsp;--&nbsp;
   Update the current session id with a newly generated one
  </DT
><DT
><A
HREF="function.session-register.html"
>session_register</A
>&nbsp;--&nbsp;
     Register one or more global variables with the current session
    </DT
><DT
><A
HREF="function.session-save-path.html"
>session_save_path</A
>&nbsp;--&nbsp;Get and/or set the current session save path</DT
><DT
><A
HREF="function.session-set-cookie-params.html"
>session_set_cookie_params</A
>&nbsp;--&nbsp;
     Set the session cookie parameters
    </DT
><DT
><A
HREF="function.session-set-save-handler.html"
>session_set_save_handler</A
>&nbsp;--&nbsp;
     Sets user-level session storage functions
    </DT
><DT
><A
HREF="function.session-start.html"
>session_start</A
>&nbsp;--&nbsp;Initialize session data</DT
><DT
><A
HREF="function.session-unregister.html"
>session_unregister</A
>&nbsp;--&nbsp;
     Unregister a global variable from the current session
    </DT
><DT
><A
HREF="function.session-unset.html"
>session_unset</A
>&nbsp;--&nbsp;
     Free all session variables
    </DT
><DT
><A
HREF="function.session-write-close.html"
>session_write_close</A
>&nbsp;--&nbsp;Write session data and end session</DT
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.session-pgsql-status.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Начало</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.session-cache-expire.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>session_pgsql_status</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="funcref.html"
ACCESSKEY="U"
>Уровень выше</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>session_cache_expire</TD
></TR
></TABLE
></DIV
></div></center></div></td>
			<td><div style="display:none; width:200px;" id="o3" name="o3"><script charset="windows-1251" type="text/javascript" src="http://www.ozon.ru/PartnerTwinerNew.aspx?revident=bea9126b-c8e1-4bf5-b6d8-9a057f8feac6" ></script></div><script>o = document.getElementById('o3'); if(o) { var s = o.innerHTML; s = s.replace(/F6F6F6/gi,"FFFFFF"); o.innerHTML = s.replace(/padding-top: 10px; padding-bottom: 10px;/,"display:none;"); o.style.display = 'block'; } </script><br><div style="margin: 10px;"><script type="text/javascript"><!--
google_ad_client = "pub-4093271809023514";
/* 120x600, создано 01.11.2008 */
google_ad_slot = "0438855731";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div></td>
    		</tr>
  		</table>
    </td>
  </tr>
  <tr valign='bottom' height='1%'>
  <td>      <table width=100% cellspacing=0 cellpadding=5 border=0 bgcolor=#9999CC>
        <tr valign=center>
          <td class='phpcopyright' width='45%' align='left'>&nbsp;&nbsp;Engine <a  href="http://www.mnogosearch.org/">MnoGoSearch</a></td>
          <td class='phpcopyright' width='10%' align='center'>2007-2010 &copy <a  href="mailto:webmaster@php.ru">PHP.RU</a></td>
          <td class='phpcopyright' width='45%' align='right' >Powered by <a target="_blank" href="http://odware.ru">ODware</a> <a HREF="http://440hz.ru">440Hz</a> &nbsp;&nbsp;</td>
        </tr>
      </table>

    <div style="text-align: right; padding: 5px">
		<!--LiveInternet counter-->
		<script type="text/javascript">document.write('<a href="http://www.liveinternet.ru/click" target=_blank><img src="http://counter.yadro.ru/hit?t53.6;r' + escape(document.referrer) + ((typeof(screen)=='undefined')?'':';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?screen.colorDepth:screen.pixelDepth)) + ';u' + escape(document.URL) +';i' + escape('Жж'+document.title.substring(0,80)) + ';' + Math.random() + '" border=0 width=88 height=31 alt="" title="LiveInternet: показано число просмотров и посетителей за 24 часа"><\/a>');
		</script>
		<!--/LiveInternet-->
		<!-- SpyLOG -->
		<script src="http://tools.spylog.ru/counter2.2.js" type="text/javascript" id="spylog_code" counter="830950" ></script>
		<noscript><a href="http://u8309.50.spylog.com/cnt?cid=830950&f=3&p=0" target="_blank"><img src="http://u8309.50.spylog.com/cnt?cid=830950&p=0&f=4" alt='SpyLOG' border='0' width=88 height=31 ></a>
		</noscript>
		<!--/ SpyLOG -->
	</div>
</td>
  </tr>
</table>

<script>
<!--
document.SEARCH.QS.focus();
// --></script>

<!-- 
	как же вы все это читаете?
	440hz 
-->

</body>
</html>