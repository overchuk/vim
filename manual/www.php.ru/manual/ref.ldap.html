<!-- 

     HTML dropped by Zend Guard Compressor 4.2

     php.ru team: mz, az, yuri, vb, cyxapuk, 440hz, administrator
     2004-2007 (c) expi-web.com 
     2007-2008 (c) odware.com 
     0101-1010 (с) 440hz

     2b|~2b=?


-->

























































































<!-- EHOT тут всё пожрал ! -->






















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="alternate" type="application/rss+xml" title="php.ru/forum - последние сообщения" href="http://www.php.ru/forum/rss.php">
<link rel="SHORTCUT ICON" href="http://www.php.ru/favicon.ico" />
<META name="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<meta http-equiv="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<META name="keywords" content="php, php5, apache, mysql, session">
<meta http-equiv="keywords" content="php, php5, apache, mysql, session">
<title>php.ru - LDAP Functions</title>
<LINK REL="stylesheet" TYPE="text/css" HREF="http://www.php.ru/index.css">
<script language="JavaScript" src="http://www.php.ru/ajax/ajax.js"></script>
</head>
<body>

<table height='100%' width='100%' cellspacing='0' cellpadding='0'>
  <tr height='99%' valign='top'>
    <td align='center'>
		
		<table style='margin-top: 4px' width=100% cellspacing=0 cellpadding=3>
   		<tr>
     		<td>PHP - <a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BA%D1%83%D1%80%D1%81%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D0%B0%D0%BA%D1%80%D0%BE%D0%BD%D0%B8%D0%BC" target=_blank class=lnk>рекурсивный акроним</a> словосочетания &laquo;<a href="/manual/introduction.html" class=lnk>PHP: Hypertext Preprocessor</a>&raquo;</td>
     	</tr>
   		</table>

		<script language="JavaScript" src="http://www.php.ru/ajax/subsys_ajax.js"></script>
		<!--

		commet by 440hz
		20.10.2007

		<script language="JavaScript" src="http://www.php.ru/ajax/pu_search.js"></script>

		-->

		<script language="JavaScript" src="http://www.php.ru/ajax/cz.js?a=b"></script>

		<table style='margin-top: 5px' width=100% bgcolor=#9999cc cellspacing=0 cellpadding=0 border=0>
   	 	<form name=SEARCH method=GET action="http://www.php.ru/search/?SID=ej7yifxhznklwfbr" onsubmit="return puSubmit();">
	  	<input type=hidden name=PAGE value=1>
  		<tr>
    		<td width='1' valign='middle'> 
    		   <a href='/'><img src="http://www.php.ru/;-)/logo.gif" width=133 height=93 alt="php" border=0 hspace=10 vspace=0></a>
			 </td>
		    <td width='100%' valign='middle'>
		       <!--
			   
				commet by 440hz
				20.10.2007

			   <div id='pu_search' class='pu_search'></div>
		       <div id='pu_search_description' class='pu_search_decription'></div>
			   
			   -->
        	 <input type=text style='width:99%; margin: 10px' maxlength='200' name='QS' class='in' id='query' autocomplete='off' value="" />
    		</td>
		  </tr>
   		<tr bgcolor='#666699' valign='middle'>
			<td style='border-top: 1px solid #333366;'><br /></td>
    		<td style='border-top: 1px solid #333366;'><div style="padding: 4px 4px 4px 10px; height: 24px; color: #CCCCFF;" id="stat">Хто там?<script>doLoadCZ('stat','stat');</script></div></td>
  		</tr>
		</form>
		</table>
		<table id="menu" cellspaciong=0 cellpadding=3>
<tr>
<td><a href="/" class=current>Главная</a></td>
<td><a href="/download/" class=current>Скачать</a></td>
<td><a href="/doc/" class=current>Документация</a></td>
<td><a href="/forum/" class=current>Форум</a></td>
<td width=100% align=right><a href="/phpinfo.html" class=current>phpinfo()</a></td>
</tr>
</table>

		
<!--  AdRiver code START. Type:728x90 Site: php.ru PZ: 0 BN: 1 -->
<script language="javascript" type="text/javascript"><!--
var RndNum4NoCash = Math.round(Math.random() * 1000000000);
var ar_Tail='unknown'; if (document.referrer) ar_Tail = escape(document.referrer);
document.write(
'<iframe src="http://ad.adriver.ru/cgi-bin/erle.cgi?'
+ 'sid=148680&bn=1&target=blank&bt=36&pz=0&rnd=' + RndNum4NoCash + '&tail256=' + ar_Tail
+ '" frameborder=0 vspace=0 hspace=0 width=728 height=90 marginwidth=0'
+ ' marginheight=0 scrolling=no></iframe>');
//--></script>
<noscript>
<a href="http://ad.adriver.ru/cgi-bin/click.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" target=_blank>
<img src="http://ad.adriver.ru/cgi-bin/rle.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" alt="-AdRiver-" border=0 width=728 height=90></a>
</noscript>
<!--  AdRiver code END  -->


  		<table width='100%' cellspacing='0' cellpadding='0'>
    		<tr valign='top'>
      		<td width=100%><div style="margin: 10px 10px 10px 50px;"><center><div style="width: 800px; text-align: left"><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Руководство по PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.kadm5-modify-principal.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.ldap-8859-to-t61.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="reference"
><A
NAME="ref.ldap"
></A
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
>LXXI. LDAP Functions</H1
><DIV
CLASS="PARTINTRO"
><A
NAME="AEN75801"
></A
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.intro"
>Введение</A
></H1
><P
>&#13;     LDAP is the Lightweight Directory Access Protocol, and is a
     protocol used to access "Directory Servers". The Directory is a
     special kind of database that holds information in a tree
     structure.  
    </P
><P
> 
     The concept is similar to your hard disk directory structure,
     except that in this context, the root directory is "The world"
     and the first level subdirectories are "countries". Lower levels
     of the directory structure contain entries for companies,
     organisations or places, while yet lower still we find directory
     entries for people, and perhaps equipment or documents.
    </P
><P
>&#13;     To refer to a file in a subdirectory on your hard disk, you might
     use something like:
    </P
><P
CLASS="literallayout"
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/myapp/docs<br>
&nbsp;&nbsp;&nbsp;&nbsp;</P
><P
>&#13;     The forwards slash marks each division in the reference, and the
     sequence is read from left to right.
    </P
><P
> 
     The equivalent to the fully qualified file reference in LDAP is
     the "distinguished name", referred to simply as "dn". An example
     dn might be:
    </P
><P
CLASS="literallayout"
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cn=John&nbsp;Smith,ou=Accounts,o=My&nbsp;Company,c=US<br>
&nbsp;&nbsp;&nbsp;&nbsp;</P
><P
>&#13;     The comma marks each division in the reference, and the sequence
     is read from right to left. You would read this dn as:
    </P
><P
CLASS="literallayout"
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;country&nbsp;=&nbsp;US<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;organization&nbsp;=&nbsp;My&nbsp;Company<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;organizationalUnit&nbsp;=&nbsp;Accounts<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commonName&nbsp;=&nbsp;John&nbsp;Smith<br>
&nbsp;&nbsp;&nbsp;&nbsp;</P
><P
>&#13;     In the same way as there are no hard rules about how you organise
     the directory structure of a hard disk, a directory server
     manager can set up any structure that is meaningful for the
     purpose. However, there are some conventions that are used. The
     message is that you can not write code to access a directory
     server unless you know something about its structure, any more
     than you can use a database without some knowledge of what is
     available.
    </P
><P
>&#13;     Lots of information about LDAP can be found at
    </P
><P
></P
><UL
><LI
><P
>&#13;       <A
HREF="http://www.mozilla.org/directory/"
TARGET="_top"
>Mozilla</A
>
      </P
></LI
><LI
><P
>&#13;       <A
HREF="http://www.openldap.org/"
TARGET="_top"
>OpenLDAP Project</A
>
      </P
></LI
></UL
><P
>    
     The Netscape SDK contains a helpful
     <A
HREF="http://www.mozilla.org/directory/csdk-docs/"
TARGET="_top"
>Programmer's Guide</A
> in
     HTML format.
    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.requirements"
>Требования</A
></H1
><P
>&#13;     You will need to get and compile LDAP client libraries from either
     <A
HREF="ftp://ftp.openldap.org/pub/OpenLDAP/openldap-stable/"
TARGET="_top"
>OpenLDAP</A
> or <A
HREF="http://www.bind9.net/download-openldap/"
TARGET="_top"
>Bind9.net</A
> in order to compile PHP with
     LDAP support.

    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.installation"
>Установка</A
></H1
><P
>&#13;  LDAP support in PHP is not enabled by default. You will need to
  use the <VAR
CLASS="option"
>--with-ldap[=DIR]</VAR
>
  configuration option when compiling PHP to enable LDAP support.
  DIR is the LDAP base install directory. To enable SASL support,
  be sure <VAR
CLASS="option"
>--with-ldap-sasl[=DIR]</VAR
> is
  used, and that <TT
CLASS="filename"
>sasl.h</TT
> exists on the system.
 </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Note to Win32 Users: </B
>
   In order to enable this module on a Windows environment, you must copy
   several files from the DLL folder of the PHP/Win32 binary package to the
   SYSTEM folder of your windows machine. (Ex: <TT
CLASS="filename"
>C:\WINNT\SYSTEM32</TT
>, 
   or <TT
CLASS="filename"
>C:\WINDOWS\SYSTEM</TT
>). For PHP &#60;= 4.2.0 copy
   <TT
CLASS="filename"
>libsasl.dll</TT
>, for PHP &#62;= 4.3.0 copy
   <TT
CLASS="filename"
>libeay32.dll</TT
> and <TT
CLASS="filename"
>ssleay32.dll</TT
> to
   your SYSTEM folder.
  </P
></BLOCKQUOTE
></DIV
><P
>&#13;  In order to use Oracle LDAP libraries, proper <A
HREF="ref.oci8.html#oci8.requirements"
>Oracle environment</A
> has to be set.
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.configuration"
>Настройка во время выполнения</A
></H1
><P
>&#13;Поведение этих функций зависит от установок в <TT
CLASS="filename"
>php.ini</TT
>.
</P
><P
>&#13; <DIV
CLASS="table"
><A
NAME="AEN75850"
></A
><P
><B
>Таблица 1. LDAP configuration options</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><THEAD
><TR
><TH
>Name</TH
><TH
>Default</TH
><TH
>Changeable</TH
><TH
>Changelog</TH
></TR
></THEAD
><TBODY
><TR
><TD
>ldap.max_links</TD
><TD
>"-1"</TD
><TD
>PHP_INI_SYSTEM</TD
><TD
>&nbsp;</TD
></TR
></TBODY
></TABLE
></DIV
>
 Для подробного описания констант
PHP_INI_*, обратитесь к документации функции <A
HREF="function.ini-set.html"
><B
CLASS="function"
>ini_set()</B
></A
>.
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.resources"
>Типы ресурсов</A
></H1
><P
>Данное расширение не определяет никакие типы ресурсов.</P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.constants"
>Предопределенные константы</A
></H1
><P
>&#13;Перечисленные ниже константы определены данным расширением и могут быть
доступны только в том случае, если PHP был собран с
поддержкой этого расширения или же в том случае, если
данное расширение подгружается во время выполнения.
</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="constant"
><B
>LDAP_DEREF_NEVER</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_DEREF_SEARCHING</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_DEREF_FINDING</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_DEREF_ALWAYS</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_DEREF</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_SIZELIMIT</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_TIMELIMIT</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_PROTOCOL_VERSION</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_ERROR_NUMBER</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_REFERRALS</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_RESTART</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_HOST_NAME</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_ERROR_STRING</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_MATCHED_DN</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_SERVER_CONTROLS</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_CLIENT_CONTROLS</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>LDAP_OPT_DEBUG_LEVEL</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>GSLC_SSL_NO_AUTH</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>GSLC_SSL_ONEWAY_AUTH</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>GSLC_SSL_TWOWAY_AUTH</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.examples"
>Примеры</A
></H1
><P
>&#13;     Retrieve information for all entries where the surname starts
     with "S" from a directory server, displaying an extract with
     name and email address.
    </P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN75996"
></A
><P
><B
>Пример 1. LDAP search example</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#FF8000">// basic sequence with LDAP is connect, bind, search, interpret search<br />// result, close connection<br /><br /></font><font color="#007700">echo </font><font color="#DD0000">"&lt;h3&gt;LDAP query test&lt;/h3&gt;"</font><font color="#007700">;<br />echo </font><font color="#DD0000">"Connecting ..."</font><font color="#007700">;<br /></font><font color="#0000BB">$ds</font><font color="#007700">=</font><font color="#0000BB">ldap_connect</font><font color="#007700">(</font><font color="#DD0000">"localhost"</font><font color="#007700">);&nbsp;&nbsp;</font><font color="#FF8000">// must be a valid LDAP server!<br /></font><font color="#007700">echo </font><font color="#DD0000">"connect result is " </font><font color="#007700">. </font><font color="#0000BB">$ds </font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;"</font><font color="#007700">;<br /><br />if (</font><font color="#0000BB">$ds</font><font color="#007700">) { <br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Binding ..."</font><font color="#007700">; <br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$r</font><font color="#007700">=</font><font color="#0000BB">ldap_bind</font><font color="#007700">(</font><font color="#0000BB">$ds</font><font color="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// this is an "anonymous" bind, typically<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// read-only access<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">echo </font><font color="#DD0000">"Bind result is " </font><font color="#007700">. </font><font color="#0000BB">$r </font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;"</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Searching for (sn=S*) ..."</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Search surname entry<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$sr</font><font color="#007700">=</font><font color="#0000BB">ldap_search</font><font color="#007700">(</font><font color="#0000BB">$ds</font><font color="#007700">, </font><font color="#DD0000">"o=My Company, c=US"</font><font color="#007700">, </font><font color="#DD0000">"sn=S*"</font><font color="#007700">);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Search result is " </font><font color="#007700">. </font><font color="#0000BB">$sr </font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;"</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Number of entires returned is " </font><font color="#007700">. </font><font color="#0000BB">ldap_count_entries</font><font color="#007700">(</font><font color="#0000BB">$ds</font><font color="#007700">, </font><font color="#0000BB">$sr</font><font color="#007700">) . </font><font color="#DD0000">"&lt;br /&gt;"</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Getting entries ...&lt;p&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$info </font><font color="#007700">= </font><font color="#0000BB">ldap_get_entries</font><font color="#007700">(</font><font color="#0000BB">$ds</font><font color="#007700">, </font><font color="#0000BB">$sr</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Data for " </font><font color="#007700">. </font><font color="#0000BB">$info</font><font color="#007700">[</font><font color="#DD0000">"count"</font><font color="#007700">] . </font><font color="#DD0000">" items returned:&lt;p&gt;"</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;for (</font><font color="#0000BB">$i</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">; </font><font color="#0000BB">$i</font><font color="#007700">&lt;</font><font color="#0000BB">$info</font><font color="#007700">[</font><font color="#DD0000">"count"</font><font color="#007700">]; </font><font color="#0000BB">$i</font><font color="#007700">++) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"dn is: " </font><font color="#007700">. </font><font color="#0000BB">$info</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#DD0000">"dn"</font><font color="#007700">] . </font><font color="#DD0000">"&lt;br /&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"first cn entry is: " </font><font color="#007700">. </font><font color="#0000BB">$info</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#DD0000">"cn"</font><font color="#007700">][</font><font color="#0000BB">0</font><font color="#007700">] . </font><font color="#DD0000">"&lt;br /&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"first email entry is: " </font><font color="#007700">. </font><font color="#0000BB">$info</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#DD0000">"mail"</font><font color="#007700">][</font><font color="#0000BB">0</font><font color="#007700">] . </font><font color="#DD0000">"&lt;br /&gt;&lt;hr /&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Closing connection"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">ldap_close</font><font color="#007700">(</font><font color="#0000BB">$ds</font><font color="#007700">);<br /><br />} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"&lt;h4&gt;Unable to connect to LDAP server&lt;/h4&gt;"</font><font color="#007700">;<br />}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="ldap.using"
>Using the PHP LDAP calls</A
></H1
><P
>&#13;     Before you can use the LDAP calls you will need to know ..

    <P
></P
><UL
><LI
><P
>&#13;       The name or address of the directory server you will use
      </P
></LI
><LI
><P
>&#13;       The "base dn" of the server (the part of the world directory
       that is held on this server, which could be "o=My
       Company,c=US")
      </P
></LI
><LI
><P
>&#13;       Whether you need a password to access the server (many servers
       will provide read access for an "anonymous bind" but require a
       password for anything else)
      </P
></LI
></UL
></P
><P
>&#13;      The typical sequence of LDAP calls you will make in an
      application will follow this pattern:
<P
CLASS="literallayout"
><br>
&nbsp;&nbsp;ldap_connect()&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;establish&nbsp;connection&nbsp;to&nbsp;server<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;ldap_bind()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;anonymous&nbsp;or&nbsp;authenticated&nbsp;"login"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;do&nbsp;something&nbsp;like&nbsp;search&nbsp;or&nbsp;update&nbsp;the&nbsp;directory<br>
&nbsp;&nbsp;and&nbsp;display&nbsp;the&nbsp;results<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;ldap_close()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;"logout"<br>
</P
></P
></DIV
></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
><A
HREF="function.ldap-8859-to-t61.html"
>ldap_8859_to_t61</A
>&nbsp;--&nbsp;
     Translate 8859 characters to t61 characters
    </DT
><DT
><A
HREF="function.ldap-add.html"
>ldap_add</A
>&nbsp;--&nbsp;Add entries to LDAP directory</DT
><DT
><A
HREF="function.ldap-bind.html"
>ldap_bind</A
>&nbsp;--&nbsp;Bind to LDAP directory</DT
><DT
><A
HREF="function.ldap-close.html"
>ldap_close</A
>&nbsp;--&nbsp;Alias of <A
HREF="function.ldap-unbind.html"
><B
CLASS="function"
>ldap_unbind()</B
></A
></DT
><DT
><A
HREF="function.ldap-compare.html"
>ldap_compare</A
>&nbsp;--&nbsp;Compare value of attribute found in entry specified with DN</DT
><DT
><A
HREF="function.ldap-connect.html"
>ldap_connect</A
>&nbsp;--&nbsp;Connect to an LDAP server</DT
><DT
><A
HREF="function.ldap-count-entries.html"
>ldap_count_entries</A
>&nbsp;--&nbsp;Count the number of entries in a search</DT
><DT
><A
HREF="function.ldap-delete.html"
>ldap_delete</A
>&nbsp;--&nbsp;Delete an entry from a directory</DT
><DT
><A
HREF="function.ldap-dn2ufn.html"
>ldap_dn2ufn</A
>&nbsp;--&nbsp;Convert DN to User Friendly Naming format</DT
><DT
><A
HREF="function.ldap-err2str.html"
>ldap_err2str</A
>&nbsp;--&nbsp;
     Convert LDAP error number into string error message
    </DT
><DT
><A
HREF="function.ldap-errno.html"
>ldap_errno</A
>&nbsp;--&nbsp;
     Return the LDAP error number of the last LDAP command
    </DT
><DT
><A
HREF="function.ldap-error.html"
>ldap_error</A
>&nbsp;--&nbsp;
     Return the LDAP error message of the last LDAP command
    </DT
><DT
><A
HREF="function.ldap-explode-dn.html"
>ldap_explode_dn</A
>&nbsp;--&nbsp;Splits DN into its component parts</DT
><DT
><A
HREF="function.ldap-first-attribute.html"
>ldap_first_attribute</A
>&nbsp;--&nbsp;Return first attribute</DT
><DT
><A
HREF="function.ldap-first-entry.html"
>ldap_first_entry</A
>&nbsp;--&nbsp;Return first result id</DT
><DT
><A
HREF="function.ldap-first-reference.html"
>ldap_first_reference</A
>&nbsp;--&nbsp;
     Return first reference
    </DT
><DT
><A
HREF="function.ldap-free-result.html"
>ldap_free_result</A
>&nbsp;--&nbsp;Free result memory</DT
><DT
><A
HREF="function.ldap-get-attributes.html"
>ldap_get_attributes</A
>&nbsp;--&nbsp;Get attributes from a search result entry</DT
><DT
><A
HREF="function.ldap-get-dn.html"
>ldap_get_dn</A
>&nbsp;--&nbsp;Get the DN of a result entry</DT
><DT
><A
HREF="function.ldap-get-entries.html"
>ldap_get_entries</A
>&nbsp;--&nbsp;Get all result entries</DT
><DT
><A
HREF="function.ldap-get-option.html"
>ldap_get_option</A
>&nbsp;--&nbsp;Get the current value for given option</DT
><DT
><A
HREF="function.ldap-get-values-len.html"
>ldap_get_values_len</A
>&nbsp;--&nbsp;Get all binary values from a result entry</DT
><DT
><A
HREF="function.ldap-get-values.html"
>ldap_get_values</A
>&nbsp;--&nbsp;Get all values from a result entry</DT
><DT
><A
HREF="function.ldap-list.html"
>ldap_list</A
>&nbsp;--&nbsp;Single-level search</DT
><DT
><A
HREF="function.ldap-mod-add.html"
>ldap_mod_add</A
>&nbsp;--&nbsp;Add attribute values to current attributes</DT
><DT
><A
HREF="function.ldap-mod-del.html"
>ldap_mod_del</A
>&nbsp;--&nbsp;Delete attribute values from current attributes</DT
><DT
><A
HREF="function.ldap-mod-replace.html"
>ldap_mod_replace</A
>&nbsp;--&nbsp;Replace attribute values with new ones</DT
><DT
><A
HREF="function.ldap-modify.html"
>ldap_modify</A
>&nbsp;--&nbsp;Modify an LDAP entry</DT
><DT
><A
HREF="function.ldap-next-attribute.html"
>ldap_next_attribute</A
>&nbsp;--&nbsp;Get the next attribute in result</DT
><DT
><A
HREF="function.ldap-next-entry.html"
>ldap_next_entry</A
>&nbsp;--&nbsp;Get next result entry</DT
><DT
><A
HREF="function.ldap-next-reference.html"
>ldap_next_reference</A
>&nbsp;--&nbsp;
     Get next reference
    </DT
><DT
><A
HREF="function.ldap-parse-reference.html"
>ldap_parse_reference</A
>&nbsp;--&nbsp;
     Extract information from reference entry
    </DT
><DT
><A
HREF="function.ldap-parse-result.html"
>ldap_parse_result</A
>&nbsp;--&nbsp;
     Extract information from result
    </DT
><DT
><A
HREF="function.ldap-read.html"
>ldap_read</A
>&nbsp;--&nbsp;Read an entry</DT
><DT
><A
HREF="function.ldap-rename.html"
>ldap_rename</A
>&nbsp;--&nbsp;Modify the name of an entry</DT
><DT
><A
HREF="function.ldap-sasl-bind.html"
>ldap_sasl_bind</A
>&nbsp;--&nbsp;
     Bind to LDAP directory using SASL
    </DT
><DT
><A
HREF="function.ldap-search.html"
>ldap_search</A
>&nbsp;--&nbsp;Search LDAP tree</DT
><DT
><A
HREF="function.ldap-set-option.html"
>ldap_set_option</A
>&nbsp;--&nbsp;Set the value of the given option</DT
><DT
><A
HREF="function.ldap-set-rebind-proc.html"
>ldap_set_rebind_proc</A
>&nbsp;--&nbsp;
     Set a callback function to do re-binds on referral chasing
    </DT
><DT
><A
HREF="function.ldap-sort.html"
>ldap_sort</A
>&nbsp;--&nbsp;
     Sort LDAP result entries
    </DT
><DT
><A
HREF="function.ldap-start-tls.html"
>ldap_start_tls</A
>&nbsp;--&nbsp;
     Start TLS
    </DT
><DT
><A
HREF="function.ldap-t61-to-8859.html"
>ldap_t61_to_8859</A
>&nbsp;--&nbsp;
     Translate t61 characters to 8859 characters
    </DT
><DT
><A
HREF="function.ldap-unbind.html"
>ldap_unbind</A
>&nbsp;--&nbsp;Unbind from LDAP directory</DT
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.kadm5-modify-principal.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Начало</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.ldap-8859-to-t61.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>kadm5_modify_principal</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="funcref.html"
ACCESSKEY="U"
>Уровень выше</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ldap_8859_to_t61</TD
></TR
></TABLE
></DIV
></div></center></div></td>
			<td><div style="display:none; width:200px;" id="o3" name="o3"><script charset="windows-1251" type="text/javascript" src="http://www.ozon.ru/PartnerTwinerNew.aspx?revident=bea9126b-c8e1-4bf5-b6d8-9a057f8feac6" ></script></div><script>o = document.getElementById('o3'); if(o) { var s = o.innerHTML; s = s.replace(/F6F6F6/gi,"FFFFFF"); o.innerHTML = s.replace(/padding-top: 10px; padding-bottom: 10px;/,"display:none;"); o.style.display = 'block'; } </script><br><div style="margin: 10px;"><script type="text/javascript"><!--
google_ad_client = "pub-4093271809023514";
/* 120x600, создано 01.11.2008 */
google_ad_slot = "0438855731";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div></td>
    		</tr>
  		</table>
    </td>
  </tr>
  <tr valign='bottom' height='1%'>
  <td>      <table width=100% cellspacing=0 cellpadding=5 border=0 bgcolor=#9999CC>
        <tr valign=center>
          <td class='phpcopyright' width='45%' align='left'>&nbsp;&nbsp;Engine <a  href="http://www.mnogosearch.org/">MnoGoSearch</a></td>
          <td class='phpcopyright' width='10%' align='center'>2007-2010 &copy <a  href="mailto:webmaster@php.ru">PHP.RU</a></td>
          <td class='phpcopyright' width='45%' align='right' >Powered by <a target="_blank" href="http://odware.ru">ODware</a> <a HREF="http://440hz.ru">440Hz</a> &nbsp;&nbsp;</td>
        </tr>
      </table>

    <div style="text-align: right; padding: 5px">
		<!--LiveInternet counter-->
		<script type="text/javascript">document.write('<a href="http://www.liveinternet.ru/click" target=_blank><img src="http://counter.yadro.ru/hit?t53.6;r' + escape(document.referrer) + ((typeof(screen)=='undefined')?'':';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?screen.colorDepth:screen.pixelDepth)) + ';u' + escape(document.URL) +';i' + escape('Жж'+document.title.substring(0,80)) + ';' + Math.random() + '" border=0 width=88 height=31 alt="" title="LiveInternet: показано число просмотров и посетителей за 24 часа"><\/a>');
		</script>
		<!--/LiveInternet-->
		<!-- SpyLOG -->
		<script src="http://tools.spylog.ru/counter2.2.js" type="text/javascript" id="spylog_code" counter="830950" ></script>
		<noscript><a href="http://u8309.50.spylog.com/cnt?cid=830950&f=3&p=0" target="_blank"><img src="http://u8309.50.spylog.com/cnt?cid=830950&p=0&f=4" alt='SpyLOG' border='0' width=88 height=31 ></a>
		</noscript>
		<!--/ SpyLOG -->
	</div>
</td>
  </tr>
</table>

<script>
<!--
document.SEARCH.QS.focus();
// --></script>

<!-- 
	как же вы все это читаете?
	440hz 
-->

</body>
</html>