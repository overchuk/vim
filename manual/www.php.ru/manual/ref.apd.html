<!-- 

     HTML dropped by Zend Guard Compressor 4.2

     php.ru team: mz, az, yuri, vb, cyxapuk, 440hz, administrator
     2004-2007 (c) expi-web.com 
     2007-2008 (c) odware.com 
     0101-1010 (с) 440hz

     2b|~2b=?


-->

























































































<!-- EHOT тут всё пожрал ! -->






















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="alternate" type="application/rss+xml" title="php.ru/forum - последние сообщения" href="http://www.php.ru/forum/rss.php">
<link rel="SHORTCUT ICON" href="http://www.php.ru/favicon.ico" />
<META name="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<meta http-equiv="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<META name="keywords" content="php, php5, apache, mysql, session">
<meta http-equiv="keywords" content="php, php5, apache, mysql, session">
<title>php.ru - Advanced PHP debugger</title>
<LINK REL="stylesheet" TYPE="text/css" HREF="http://www.php.ru/index.css">
<script language="JavaScript" src="http://www.php.ru/ajax/ajax.js"></script>
</head>
<body>

<table height='100%' width='100%' cellspacing='0' cellpadding='0'>
  <tr height='99%' valign='top'>
    <td align='center'>
		
		<table style='margin-top: 4px' width=100% cellspacing=0 cellpadding=3>
   		<tr>
     		<td>PHP - <a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BA%D1%83%D1%80%D1%81%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D0%B0%D0%BA%D1%80%D0%BE%D0%BD%D0%B8%D0%BC" target=_blank class=lnk>рекурсивный акроним</a> словосочетания &laquo;<a href="/manual/introduction.html" class=lnk>PHP: Hypertext Preprocessor</a>&raquo;</td>
     	</tr>
   		</table>

		<script language="JavaScript" src="http://www.php.ru/ajax/subsys_ajax.js"></script>
		<!--

		commet by 440hz
		20.10.2007

		<script language="JavaScript" src="http://www.php.ru/ajax/pu_search.js"></script>

		-->

		<script language="JavaScript" src="http://www.php.ru/ajax/cz.js?a=b"></script>

		<table style='margin-top: 5px' width=100% bgcolor=#9999cc cellspacing=0 cellpadding=0 border=0>
   	 	<form name=SEARCH method=GET action="http://www.php.ru/search/?SID=quuyc4ejx3h8l2jf" onsubmit="return puSubmit();">
	  	<input type=hidden name=PAGE value=1>
  		<tr>
    		<td width='1' valign='middle'> 
    		   <a href='/'><img src="http://www.php.ru/;-)/logo.gif" width=133 height=93 alt="php" border=0 hspace=10 vspace=0></a>
			 </td>
		    <td width='100%' valign='middle'>
		       <!--
			   
				commet by 440hz
				20.10.2007

			   <div id='pu_search' class='pu_search'></div>
		       <div id='pu_search_description' class='pu_search_decription'></div>
			   
			   -->
        	 <input type=text style='width:99%; margin: 10px' maxlength='200' name='QS' class='in' id='query' autocomplete='off' value="" />
    		</td>
		  </tr>
   		<tr bgcolor='#666699' valign='middle'>
			<td style='border-top: 1px solid #333366;'><br /></td>
    		<td style='border-top: 1px solid #333366;'><div style="padding: 4px 4px 4px 10px; height: 24px; color: #CCCCFF;" id="stat">Хто там?<script>doLoadCZ('stat','stat');</script></div></td>
  		</tr>
		</form>
		</table>
		<table id="menu" cellspaciong=0 cellpadding=3>
<tr>
<td><a href="/" class=current>Главная</a></td>
<td><a href="/download/" class=current>Скачать</a></td>
<td><a href="/doc/" class=current>Документация</a></td>
<td><a href="/forum/" class=current>Форум</a></td>
<td width=100% align=right><a href="/phpinfo.html" class=current>phpinfo()</a></td>
</tr>
</table>

		
<!--  AdRiver code START. Type:728x90 Site: php.ru PZ: 0 BN: 1 -->
<script language="javascript" type="text/javascript"><!--
var RndNum4NoCash = Math.round(Math.random() * 1000000000);
var ar_Tail='unknown'; if (document.referrer) ar_Tail = escape(document.referrer);
document.write(
'<iframe src="http://ad.adriver.ru/cgi-bin/erle.cgi?'
+ 'sid=148680&bn=1&target=blank&bt=36&pz=0&rnd=' + RndNum4NoCash + '&tail256=' + ar_Tail
+ '" frameborder=0 vspace=0 hspace=0 width=728 height=90 marginwidth=0'
+ ' marginheight=0 scrolling=no></iframe>');
//--></script>
<noscript>
<a href="http://ad.adriver.ru/cgi-bin/click.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" target=_blank>
<img src="http://ad.adriver.ru/cgi-bin/rle.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" alt="-AdRiver-" border=0 width=728 height=90></a>
</noscript>
<!--  AdRiver code END  -->


  		<table width='100%' cellspacing='0' cellpadding='0'>
    		<tr valign='top'>
      		<td width=100%><div style="margin: 10px 10px 10px 50px;"><center><div style="width: 800px; text-align: left"><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Руководство по PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.apc-store.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.apd-breakpoint.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="reference"
><A
NAME="ref.apd"
></A
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
>IV. Advanced PHP debugger</H1
><DIV
CLASS="PARTINTRO"
><A
NAME="AEN8991"
></A
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.intro"
>Введение</A
></H1
><P
>&#13;     APD is the Advanced PHP Debugger. It was written to provide profiling and
     debugging capabilities for PHP code, as well as to provide the ability to
     print out a full stack backtrace. APD supports interactive debugging, but
     by default it writes data to trace files. It also offers event based
     logging so that varying levels of information (including function calls,
     arguments passed, timings, etc.) can be turned on or off for individual
     scripts.
    <DIV
CLASS="caution"
><P
></P
><TABLE
CLASS="caution"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Предостережение</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;     APD is a Zend Extension, modifying the way the internals of PHP handle 
     function calls, and thus may or may not be compatible with other Zend 
     Extensions (for example Zend Optimizer). 
    </P
></TD
></TR
></TABLE
></DIV
>
    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.installation"
>Установка</A
></H1
><P
>&#13;  APD is currently available as a PECL extension from 
  <A
HREF="http://pecl.php.net/package/apd"
TARGET="_top"
>http://pecl.php.net/package/apd</A
>.
  Make sure you have installed the CGI version of PHP and it is available
  in your current path along with the phpize script.
 </P
><P
>&#13;  Run the following command to download, build, and install the latest stable
  version of APD:
 <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>pear install apd</PRE
></TD
></TR
></TABLE
>
 </P
><P
>&#13;  This automatically installs the APD Zend module into your PHP
  extensions directory. It is not mandatory to keep it there; you can
  store the module in any directory PHP can read as long as you set
  the zend_extension parameter accordingly.
 </P
><P
>&#13;  Windows users can download the extension dll <TT
CLASS="filename"
>php_apd.dll</TT
>
  from <A
HREF="http://snaps.php.net/win32/PECL_STABLE/"
TARGET="_top"
>http://snaps.php.net/win32/PECL_STABLE/</A
>.
 </P
><P
>&#13;  In your INI file, add the following lines:
 </P
><P
>&#13;  <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="php.ini"
>zend_extension = /absolute/path/to/apd.so
apd.dumpdir = /absolute/path/to/trace/directory
apd.statement_tracing = 0</PRE
></TD
></TR
></TABLE
>
 </P
><P
>&#13;  Depending on your PHP build, the zend_extension directive can be one of the
  following:
 </P
><P
>&#13;  <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="script"
>zend_extension              (non ZTS, non debug build)
zend_extension_ts           (    ZTS, non debug build)
zend_extension_debug        (non ZTS,     debug build)
zend_extension_debug_ts     (    ZTS,     debug build)</PRE
></TD
></TR
></TABLE
>
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.installwin32"
>Building on Win32</A
></H1
><P
>&#13;  To build APD under Windows you need a working PHP compilation
  environment as described on http://php.net/ -- basically, it requires
  you to have Microsoft Visual C++, win32build.zip, bison/flex, and some know how
  to get it to work. Also ensure that adp.dsp has DOS line endings; if it has unix
  line endings, Microsoft Visual C++ will complain about it.
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.configuration"
>Настройка во время выполнения</A
></H1
><P
>&#13;Поведение этих функций зависит от установок в <TT
CLASS="filename"
>php.ini</TT
>.
</P
><P
>&#13;  <DIV
CLASS="table"
><A
NAME="AEN9021"
></A
><P
><B
>Таблица 1. APD Configuration Options</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><THEAD
><TR
><TH
>Name</TH
><TH
>Default</TH
><TH
>Changeable</TH
><TH
>Changelog</TH
></TR
></THEAD
><TBODY
><TR
><TD
>apd.dumpdir</TD
><TD
>NULL</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>apd.statement_tracing</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
><TD
>&nbsp;</TD
></TR
></TBODY
></TABLE
></DIV
>
  Для подробного описания констант
PHP_INI_*, обратитесь к документации функции <A
HREF="function.ini-set.html"
><B
CLASS="function"
>ini_set()</B
></A
>.
 </P
><P
>Краткое разъяснение конфигурационных
директив.</P
><P
>&#13;  <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><A
NAME="ini.apd.dumpdir"
></A
><VAR
CLASS="parameter"
>apd.dumpdir</VAR
>
     <A
HREF="language.types.string.html"
><B
CLASS="type"
>string</B
></A
></DT
><DD
><P
>&#13;      Sets the directory in which APD writes profile dump files.
      You can specify an absolute path or a relative path.
     </P
><P
>&#13;      You can specify a different directory as an argument
      to <A
HREF="function.apd-set-pprof-trace.html"
><B
CLASS="function"
>apd_set_pprof_trace()</B
></A
>.
     </P
></DD
><DT
><A
NAME="ini.apd.statement-tracing"
></A
><VAR
CLASS="parameter"
>apd.statement_tracing</VAR
>
     <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;     Specfies whether or not to do per-line tracings. Turning this on (1) will
     impact the performance of your application.
     </P
></DD
></DL
></DIV
>
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.resources"
>Типы ресурсов</A
></H1
><P
>Данное расширение не определяет никакие типы ресурсов.</P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.constants"
>Предопределенные константы</A
></H1
><P
>Данное расширение не определяет никакие константы.</P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.examples"
>How to use PHP-APD in your scripts</A
></H1
><DIV
CLASS="procedure"
><OL
TYPE="1"
><LI
><P
>&#13;      As the first line of your PHP script, call the apd_set_pprof_trace() function
      to start the trace:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
apd_set_pprof_trace();</font>
</code></TD
></TR
></TABLE
>
     </P
><P
>&#13;     You can insert the line anywhere in your script, but if you do not start
     tracing at the beginning of your script you discard profile data that might
     otherwise lead you to a performance bottleneck.
     </P
></LI
><LI
><P
>&#13;      Now run your script. The dump output will be written to
      <TT
CLASS="filename"
>apd.dumpdir/pprof_pid.ext</TT
>.
      <DIV
CLASS="tip"
><BLOCKQUOTE
CLASS="tip"
><P
><B
>Подсказка: </B
>
        If you're running the CGI version of PHP, you will need to add the '-e'
        flag to enable extended information for apd to work properly. For
        example: 
        <KBD
CLASS="userinput"
>php -e -f script.php</KBD
>
      </P
></BLOCKQUOTE
></DIV
>
     </P
></LI
><LI
><P
>&#13;      To display formatted profile data, issue the <B
CLASS="command"
>pprofp</B
>
      command with the sort and display options of your choice. The formatted
      output will look something like:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>bash-2.05b$ pprofp -R /tmp/pprof.22141.0

Trace for /home/dan/testapd.php
Total Elapsed Time = 0.00
Total System Time  = 0.00
Total User Time    = 0.00


Real         User        System             secs/    cumm
%Time (excl/cumm)  (excl/cumm)  (excl/cumm) Calls    call    s/call  Memory Usage Name
--------------------------------------------------------------------------------------
100.0 0.00 0.00  0.00 0.00  0.00 0.00     1  0.0000   0.0009            0 main
56.9 0.00 0.00  0.00 0.00  0.00 0.00     1  0.0005   0.0005            0 apd_set_pprof_trace
28.0 0.00 0.00  0.00 0.00  0.00 0.00    10  0.0000   0.0000            0 preg_replace
14.3 0.00 0.00  0.00 0.00  0.00 0.00    10  0.0000   0.0000            0 str_replace</PRE
></TD
></TR
></TABLE
>
     </P
><P
>&#13;     The -R option used in this example sorts the profile table by the amount
     of real time the script spent executing a given function. The "cumm call"
     column reveals how many times each function was called, and the "s/call"
     column reveals how many seconds each call to the function required, on
     average.
     </P
></LI
><LI
><P
>&#13;     To generate a calltree file that you can import into the KCacheGrind
     profile analysis application, issue the <B
CLASS="command"
>pprof2calltree</B
>
     comand.
     </P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="apd.contact"
>Contact information</A
></H1
><P
>&#13;      If you have comments, bugfixes, enhancements or want to help developing 
      this beast, you can send an mail to 
      <A
HREF="mailto:apd@mail.communityconnect.com"
TARGET="_top"
>apd@mail.communityconnect.com</A
>. Any help is very 
      welcome.
     </P
></DIV
></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
><A
HREF="function.apd-breakpoint.html"
>apd_breakpoint</A
>&nbsp;--&nbsp;Stops the interpreter and waits on a CR from the socket</DT
><DT
><A
HREF="function.apd-callstack.html"
>apd_callstack</A
>&nbsp;--&nbsp;Returns the current call stack as an array</DT
><DT
><A
HREF="function.apd-clunk.html"
>apd_clunk</A
>&nbsp;--&nbsp;Throw a warning and a callstack</DT
><DT
><A
HREF="function.apd-continue.html"
>apd_continue</A
>&nbsp;--&nbsp;Restarts the interpreter</DT
><DT
><A
HREF="function.apd-croak.html"
>apd_croak</A
>&nbsp;--&nbsp;Throw an error, a callstack and then exit</DT
><DT
><A
HREF="function.apd-dump-function-table.html"
>apd_dump_function_table</A
>&nbsp;--&nbsp;Outputs the current function table</DT
><DT
><A
HREF="function.apd-dump-persistent-resources.html"
>apd_dump_persistent_resources</A
>&nbsp;--&nbsp;Return all persistent resources as an array</DT
><DT
><A
HREF="function.apd-dump-regular-resources.html"
>apd_dump_regular_resources</A
>&nbsp;--&nbsp;Return all current regular resources as an array</DT
><DT
><A
HREF="function.apd-echo.html"
>apd_echo</A
>&nbsp;--&nbsp;Echo to the debugging socket</DT
><DT
><A
HREF="function.apd-get-active-symbols.html"
>apd_get_active_symbols</A
>&nbsp;--&nbsp;Get an array of the current variables names in the local scope</DT
><DT
><A
HREF="function.apd-set-pprof-trace.html"
>apd_set_pprof_trace</A
>&nbsp;--&nbsp;Starts the session debugging</DT
><DT
><A
HREF="function.apd-set-session-trace.html"
>apd_set_session_trace</A
>&nbsp;--&nbsp;Starts the session debugging</DT
><DT
><A
HREF="function.apd-set-session.html"
>apd_set_session</A
>&nbsp;--&nbsp;Changes or sets the current debugging level</DT
><DT
><A
HREF="function.apd-set-socket-session-trace.html"
>apd_set_socket_session_trace</A
>&nbsp;--&nbsp;Starts the remote session debugging</DT
><DT
><A
HREF="function.override-function.html"
>override_function</A
>&nbsp;--&nbsp;Overrides built-in functions</DT
><DT
><A
HREF="function.rename-function.html"
>rename_function</A
>&nbsp;--&nbsp;Renames orig_name to new_name in the global function_table</DT
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.apc-store.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Начало</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.apd-breakpoint.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>apc_store</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="funcref.html"
ACCESSKEY="U"
>Уровень выше</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>apd_breakpoint</TD
></TR
></TABLE
></DIV
></div></center></div></td>
			<td><div style="display:none; width:200px;" id="o3" name="o3"><script charset="windows-1251" type="text/javascript" src="http://www.ozon.ru/PartnerTwinerNew.aspx?revident=bea9126b-c8e1-4bf5-b6d8-9a057f8feac6" ></script></div><script>o = document.getElementById('o3'); if(o) { var s = o.innerHTML; s = s.replace(/F6F6F6/gi,"FFFFFF"); o.innerHTML = s.replace(/padding-top: 10px; padding-bottom: 10px;/,"display:none;"); o.style.display = 'block'; } </script><br><div style="margin: 10px;"><script type="text/javascript"><!--
google_ad_client = "pub-4093271809023514";
/* 120x600, создано 01.11.2008 */
google_ad_slot = "0438855731";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div></td>
    		</tr>
  		</table>
    </td>
  </tr>
  <tr valign='bottom' height='1%'>
  <td>      <table width=100% cellspacing=0 cellpadding=5 border=0 bgcolor=#9999CC>
        <tr valign=center>
          <td class='phpcopyright' width='45%' align='left'>&nbsp;&nbsp;Engine <a  href="http://www.mnogosearch.org/">MnoGoSearch</a></td>
          <td class='phpcopyright' width='10%' align='center'>2007-2010 &copy <a  href="mailto:webmaster@php.ru">PHP.RU</a></td>
          <td class='phpcopyright' width='45%' align='right' >Powered by <a target="_blank" href="http://odware.ru">ODware</a> <a HREF="http://440hz.ru">440Hz</a> &nbsp;&nbsp;</td>
        </tr>
      </table>

    <div style="text-align: right; padding: 5px">
		<!--LiveInternet counter-->
		<script type="text/javascript">document.write('<a href="http://www.liveinternet.ru/click" target=_blank><img src="http://counter.yadro.ru/hit?t53.6;r' + escape(document.referrer) + ((typeof(screen)=='undefined')?'':';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?screen.colorDepth:screen.pixelDepth)) + ';u' + escape(document.URL) +';i' + escape('Жж'+document.title.substring(0,80)) + ';' + Math.random() + '" border=0 width=88 height=31 alt="" title="LiveInternet: показано число просмотров и посетителей за 24 часа"><\/a>');
		</script>
		<!--/LiveInternet-->
		<!-- SpyLOG -->
		<script src="http://tools.spylog.ru/counter2.2.js" type="text/javascript" id="spylog_code" counter="830950" ></script>
		<noscript><a href="http://u8309.50.spylog.com/cnt?cid=830950&f=3&p=0" target="_blank"><img src="http://u8309.50.spylog.com/cnt?cid=830950&p=0&f=4" alt='SpyLOG' border='0' width=88 height=31 ></a>
		</noscript>
		<!--/ SpyLOG -->
	</div>
</td>
  </tr>
</table>

<script>
<!--
document.SEARCH.QS.focus();
// --></script>

<!-- 
	как же вы все это читаете?
	440hz 
-->

</body>
</html>