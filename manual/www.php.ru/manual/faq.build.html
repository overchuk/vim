<!-- 

     HTML dropped by Zend Guard Compressor 4.2

     php.ru team: mz, az, yuri, vb, cyxapuk, 440hz, administrator
     2004-2007 (c) expi-web.com 
     2007-2008 (c) odware.com 
     0101-1010 (с) 440hz

     2b|~2b=?


-->

























































































<!-- EHOT тут всё пожрал ! -->






















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="alternate" type="application/rss+xml" title="php.ru/forum - последние сообщения" href="http://www.php.ru/forum/rss.php">
<link rel="SHORTCUT ICON" href="http://www.php.ru/favicon.ico" />
<META name="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<meta http-equiv="description" content="php.ru - форум PHP программистов, поиск по всем ресурсам сети, посвященным php">
<META name="keywords" content="php, php5, apache, mysql, session">
<meta http-equiv="keywords" content="php, php5, apache, mysql, session">
<title>php.ru - Проблемы Сборки</title>
<LINK REL="stylesheet" TYPE="text/css" HREF="http://www.php.ru/index.css">
<script language="JavaScript" src="http://www.php.ru/ajax/ajax.js"></script>
</head>
<body>

<table height='100%' width='100%' cellspacing='0' cellpadding='0'>
  <tr height='99%' valign='top'>
    <td align='center'>
		
		<table style='margin-top: 4px' width=100% cellspacing=0 cellpadding=3>
   		<tr>
     		<td>PHP - <a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BA%D1%83%D1%80%D1%81%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D0%B0%D0%BA%D1%80%D0%BE%D0%BD%D0%B8%D0%BC" target=_blank class=lnk>рекурсивный акроним</a> словосочетания &laquo;<a href="/manual/introduction.html" class=lnk>PHP: Hypertext Preprocessor</a>&raquo;</td>
     	</tr>
   		</table>

		<script language="JavaScript" src="http://www.php.ru/ajax/subsys_ajax.js"></script>
		<!--

		commet by 440hz
		20.10.2007

		<script language="JavaScript" src="http://www.php.ru/ajax/pu_search.js"></script>

		-->

		<script language="JavaScript" src="http://www.php.ru/ajax/cz.js?a=b"></script>

		<table style='margin-top: 5px' width=100% bgcolor=#9999cc cellspacing=0 cellpadding=0 border=0>
   	 	<form name=SEARCH method=GET action="http://www.php.ru/search/?SID=ypvho5pk5gmzpcqv" onsubmit="return puSubmit();">
	  	<input type=hidden name=PAGE value=1>
  		<tr>
    		<td width='1' valign='middle'> 
    		   <a href='/'><img src="http://www.php.ru/;-)/logo.gif" width=133 height=93 alt="php" border=0 hspace=10 vspace=0></a>
			 </td>
		    <td width='100%' valign='middle'>
		       <!--
			   
				commet by 440hz
				20.10.2007

			   <div id='pu_search' class='pu_search'></div>
		       <div id='pu_search_description' class='pu_search_decription'></div>
			   
			   -->
        	 <input type=text style='width:99%; margin: 10px' maxlength='200' name='QS' class='in' id='query' autocomplete='off' value="" />
    		</td>
		  </tr>
   		<tr bgcolor='#666699' valign='middle'>
			<td style='border-top: 1px solid #333366;'><br /></td>
    		<td style='border-top: 1px solid #333366;'><div style="padding: 4px 4px 4px 10px; height: 24px; color: #CCCCFF;" id="stat">Хто там?<script>doLoadCZ('stat','stat');</script></div></td>
  		</tr>
		</form>
		</table>
		<table id="menu" cellspaciong=0 cellpadding=3>
<tr>
<td><a href="/" class=current>Главная</a></td>
<td><a href="/download/" class=current>Скачать</a></td>
<td><a href="/doc/" class=current>Документация</a></td>
<td><a href="/forum/" class=current>Форум</a></td>
<td width=100% align=right><a href="/phpinfo.html" class=current>phpinfo()</a></td>
</tr>
</table>

		
<!--  AdRiver code START. Type:728x90 Site: php.ru PZ: 0 BN: 1 -->
<script language="javascript" type="text/javascript"><!--
var RndNum4NoCash = Math.round(Math.random() * 1000000000);
var ar_Tail='unknown'; if (document.referrer) ar_Tail = escape(document.referrer);
document.write(
'<iframe src="http://ad.adriver.ru/cgi-bin/erle.cgi?'
+ 'sid=148680&bn=1&target=blank&bt=36&pz=0&rnd=' + RndNum4NoCash + '&tail256=' + ar_Tail
+ '" frameborder=0 vspace=0 hspace=0 width=728 height=90 marginwidth=0'
+ ' marginheight=0 scrolling=no></iframe>');
//--></script>
<noscript>
<a href="http://ad.adriver.ru/cgi-bin/click.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" target=_blank>
<img src="http://ad.adriver.ru/cgi-bin/rle.cgi?sid=148680&bn=1&bt=36&pz=0&rnd=1525626915" alt="-AdRiver-" border=0 width=728 height=90></a>
</noscript>
<!--  AdRiver code END  -->


  		<table width='100%' cellspacing='0' cellpadding='0'>
    		<tr valign='top'>
      		<td width=100%><div style="margin: 10px 10px 10px 50px;"><center><div style="width: 800px; text-align: left"><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Руководство по PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="faq.installation.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="faq.using.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="faq.build"
>Глава 54. Проблемы Сборки</A
></H1
><P
>&#13;    В этом разделе собраны наиболее общие ошибки, возникающие на этапе сборки.
   </P
><DIV
CLASS="qandaset"
><DL
><DT
>1. <A
HREF="faq.build.html#faq.build.configure"
>&#13;      Я получил последнюю версию PHP, используя анонимный CVS,
      но в нём нет конфигурационного скрипта!
     </A
></DT
><DT
>2. <A
HREF="faq.build.html#faq.build.configuring"
>&#13;      У меня возникают проблемы при конфигурировании PHP для работы с Apache.
      Он говорит, что не может найти <TT
CLASS="filename"
>httpd.h</TT
>,
      хотя файл находится точно там, где я сказал!
     </A
></DT
><DT
>3. <A
HREF="faq.build.html#faq.build.lex"
>&#13;      Во время конфигурации PHP (<VAR
CLASS="literal"
>./configure</VAR
>)
      вы наталкиваетесь на ошибку, схожую со следующим:
     </A
></DT
><DT
>4. <A
HREF="faq.build.html#faq.build.apache-sharedcore"
>&#13;      Когда я пытаюсь запустить Apache, я получаю следующее сообщение:
     </A
></DT
><DT
>5. <A
HREF="faq.build.html#faq.build.not-found"
>&#13;      Когда я запускаю configure, он говорит, что не может найти файлы
      include или библиотеку для GD, gdbm или какого-либо другого пакета!
     </A
></DT
><DT
>6. <A
HREF="faq.build.html#faq.build.yytname"
>&#13;      При компиляции файла <TT
CLASS="filename"
>language-parser.tab.c</TT
>
      мне выдаются ошибки, говорящие <VAR
CLASS="literal"
>yytname undeclared</VAR
>.
     </A
></DT
><DT
>7. <A
HREF="faq.build.html#faq.build.link"
>&#13;      Когда я запускаю <B
CLASS="command"
>make</B
>, похоже, он выполняется нормально,
      но на конечной линковке жалуется, что не может найти некоторые файлы.
     </A
></DT
><DT
>8. <A
HREF="faq.build.html#faq.build.undefined"
>&#13;      При компиляции PHP, он жалуется на некоторые неопределённые ссылки.
     </A
></DT
><DT
>9. <A
HREF="faq.build.html#faq.build.Apache"
>&#13;      Я не могу понять как собрать PHP c Apache 1.3.
     </A
></DT
><DT
>10. <A
HREF="faq.build.html#faq.build.not-running"
>&#13;      Я следовал всем шагам по установке модульной версии для Apache на Unix,
      но мои PHP скрипты выводятся в моём браузере или я получаю запрос сохранить
      файл.
      </A
></DT
><DT
>11. <A
HREF="faq.build.html#faq.build.activate-module"
>&#13;      Говорится использовать:
      <VAR
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</VAR
>,
      но такой файл не существует, поэтому я заменил это на
      <VAR
CLASS="literal"
>--activate-module=src/modules/php4/libmodphp4.a</VAR
>
      и оно не работает!? Что происходит?
     </A
></DT
><DT
>12. <A
HREF="faq.build.html#faq.build.ansi"
>&#13;      Когда я пытаюсь собрать Apache c PHP, в виде статического модуля, используя
      <VAR
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</VAR
>
      он говорит, что мой компилятор не ANSI-совместимый.
     </A
></DT
><DT
>13. <A
HREF="faq.build.html#faq.build.apxs"
>&#13;      Когда я пытаюсь собрать PHP используя
      <VAR
CLASS="option"
>--with-apxs</VAR
>,
      я получаю странное сообщение об ошибке.
     </A
></DT
><DT
>14. <A
HREF="faq.build.html#faq.build.microtime"
>&#13;      Во время выполнения <B
CLASS="command"
>make</B
> я получаю ошибки в microtime
      и множество всяких <VAR
CLASS="literal"
>RUSAGE_</VAR
>.
    </A
></DT
><DT
>15. <A
HREF="faq.build.html#faq.build.mysql.tempnam"
>&#13;      При компиляции PHP с MySQL, configure выполняется нормально, 
      но во время <VAR
CLASS="literal"
>make</VAR
> я получаю ошибку типа следующего:
      <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>ext/mysql/libmysql/my_tempnam.o(.text+0x46): In function 
      my_tempnam': /php4/ext/mysql/libmysql/my_tempnam.c:103: the 
      use of tempnam' is dangerous, better use mkstemp'</I
></SPAN
>, 
      в чём дело?
     </A
></DT
><DT
>16. <A
HREF="faq.build.html#faq.build.upgrade"
>&#13;      Я хочу обновить мой PHP. Где я могу найти строку 
      <B
CLASS="command"
>./configure</B
>, которая была использована для моей
      текущей PHP установки?
     </A
></DT
><DT
>17. <A
HREF="faq.build.html#faq.build.gdlibs"
>&#13;      При сборке PHP с библиотекой GD, либо выдаются странные ошибки компиляции,
      либо segfault при выполнении.
     </A
></DT
><DT
>18. <A
HREF="faq.build.html#faq.installation.needgnu"
>&#13;      При компиляции PHP я, кажется, получаю случайные ошибки, например она зависает.  
      Я использую Solaris, если это имеет значение.
     </A
></DT
></DL
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.configure"
></A
><B
>1. </B
>
      Я получил последнюю версию PHP, используя анонимный CVS,
      но в нём нет конфигурационного скрипта!
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Вам нужен установленный пакет GNU autoconf для того, чтобы сгенерировать
      конфигурационный скрипт из <TT
CLASS="filename"
>configure.in</TT
>.
      После получения исходников с CVS сервера просто запустите
      <B
CLASS="command"
>./buildconf</B
> в директории верхнего уровня.
      (Также, если вы запускаете configure без опции
      <VAR
CLASS="literal"
>--enable-maintainer-mode</VAR
>, то конфигурационный 
      скрипт не будет перестроен автоматически при изменении файла
      <TT
CLASS="filename"
>configure.in</TT
>, поэтому вам необходимо делать это
      вручную, когда вы заметите, что configure.in изменился.
      Один из симптомов - появление таких вещей как @VARIABLE@ в вашем Makefile
      после выполнения configure или <TT
CLASS="filename"
>config.status</TT
>)
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.configuring"
></A
><B
>2. </B
>
      У меня возникают проблемы при конфигурировании PHP для работы с Apache.
      Он говорит, что не может найти <TT
CLASS="filename"
>httpd.h</TT
>,
      хотя файл находится точно там, где я сказал!
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Для configure/setup скрипта вам необходимо указать
      директорию верхнего уровня, в которой находятся исходники Apache.
      Это означает, что вам надо задать <VAR
CLASS="option"
>--with-apache=/path/to/apache</VAR
>,
      а <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>не</I
></SPAN
> <VAR
CLASS="option"
>--with-apache=/path/to/apache/src</VAR
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.lex"
></A
><B
>3. </B
>
      Во время конфигурации PHP (<VAR
CLASS="literal"
>./configure</VAR
>)
      вы наталкиваетесь на ошибку, схожую со следующим:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>checking lex output file root... ./configure: lex: command not found
       configure: error: cannot find output from lex; giving up</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Не забудьте внимательно прочитать инструкции по 
      <A
HREF="install.unix.html"
>установке</A
> и заметьте, что для 
      компиляции PHP вам нужны оба flex и bison установленные.
      В зависимости от ваших настроек, установите bison и flex либо из 
      исходников, либо из RPM пакетов.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.apache-sharedcore"
></A
><B
>4. </B
>
      Когда я пытаюсь запустить Apache, я получаю следующее сообщение:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>fatal: relocation error: file /path/to/libphp4.so:
       symbol ap_block_alarms: referenced symbol not found</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Эта ошибка обычно появляется, если ядро Apache было скомпилировано как
      разделяемая библиотека DSO. Попробуйте переконфигурировать Apache,
      используя, по крайней мере, следующие флаги:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>--enable-shared=max --enable-rule=SHARED_CORE</PRE
></TD
></TR
></TABLE
>
     </P
><P
>&#13;      Для более подробной информации читайте файл <TT
CLASS="filename"
>INSTALL</TT
>
      верхнего уровня или 
      <A
HREF="http://httpd.apache.org/docs/1.3/dso.html"
TARGET="_top"
>страницу руководства Apache по DSO</A
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.not-found"
></A
><B
>5. </B
>
      Когда я запускаю configure, он говорит, что не может найти файлы
      include или библиотеку для GD, gdbm или какого-либо другого пакета!
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Вы можете сделать так, что скрипт configure будет искать файлы заголовков
      или библиотеки в нестандартных местах, задав дополнительные флаги для 
      С препроцессора и компоновщика, такие как:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure</PRE
></TD
></TR
></TABLE
>
      Если вы используете csh-подобную оболочку (почему?), то это будет:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>env CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.yytname"
></A
><B
>6. </B
>
      При компиляции файла <TT
CLASS="filename"
>language-parser.tab.c</TT
>
      мне выдаются ошибки, говорящие <VAR
CLASS="literal"
>yytname undeclared</VAR
>.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Вам необходимо обновить вашу версию Bison. Последнюю версию можно найти на
      <A
HREF="http://www.gnu.org/software/bison/bison.html"
TARGET="_top"
>http://www.gnu.org/software/bison/bison.html</A
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.link"
></A
><B
>7. </B
>
      Когда я запускаю <B
CLASS="command"
>make</B
>, похоже, он выполняется нормально,
      но на конечной линковке жалуется, что не может найти некоторые файлы.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Некоторые старые версии make ошибочно не помещают скомпилированые файлы в
      поддиректорию functions в той же директории.
      Попробуйте выполнить <B
CLASS="command"
>cp *.o functions</B
> и затем
      перезапустить <B
CLASS="command"
>make</B
>. Если это помогло, то вам действительно
      надо установить свежую версию GNU make.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.undefined"
></A
><B
>8. </B
>
      При компиляции PHP, он жалуется на некоторые неопределённые ссылки.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Посмотрите на строку для компоновки и убедитесь, что все нужные библиотеки
      добавлены в конце. Часто забывают '-ldl' и библиотеки, необходимые для
      поддержки подключенных баз данных.
     </P
><P
>&#13;      Если вы компонуете с Apache 1.2.x, не забыли ли вы добавить
      соответствующую информацию в строку EXTRA_LIBS в файле Configuration
      и перезапустить Configure скрипт для Apache? Смотрите файл
      <A
HREF="???"
TARGET="_top"
>INSTALL</A
>
      для дополнительной информации.
     </P
><P
>&#13;      Некоторые люди также сообщают, что при компоновке с Apache
      им пришлось добавить '-ldl' сразу после <TT
CLASS="filename"
>libphp4.a</TT
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.Apache"
></A
><B
>9. </B
>
      Я не могу понять как собрать PHP c Apache 1.3.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      На самом деле это очень легко. Аккуратно выполните следующие шаги:
      <P
></P
><UL
><LI
><P
>&#13;         Получите последний дистрибутив Apache 1.3 с 
         <A
HREF="http://www.apache.org/dist/httpd/"
TARGET="_top"
>http://www.apache.org/dist/httpd/</A
>.
        </P
></LI
><LI
><P
>&#13;         Раскомпрессуйте и разархивируйте (ungzip/untar) его где-нибудь,
         для примера в
         <TT
CLASS="filename"
>/usr/local/src/apache-1.3</TT
>.
        </P
></LI
><LI
><P
>&#13;         Скомпилируйте PHP, сперва запустив
         <B
CLASS="command"
>./configure --with-apache=/&#60;path&#62;/apache-1.3</B
>
         (замените &#60;path&#62; на ваш настоящий путь к директории apache-1.3.)
        </P
></LI
><LI
><P
>&#13;         Введите <B
CLASS="command"
>make</B
> с последующим
         <B
CLASS="command"
>make install</B
> для того, чтобы построить PHP
         и скопировать все необходимые файлы в дерево дистрибутива Apache.
        </P
></LI
><LI
><P
>&#13;         Перейдите в вашу директорию
         <TT
CLASS="filename"
>/&#60;path&#62;/apache-1.3/src</TT
>
         и отредактируйте файл <TT
CLASS="filename"
>Configuration</TT
>. 
         Добавьте в файл: 
         <VAR
CLASS="literal"
>AddModule modules/php4/libphp4.a</VAR
>.
        </P
></LI
><LI
><P
>&#13;         Введите: <B
CLASS="command"
>./configure</B
> и затем <VAR
CLASS="literal"
>make</VAR
>.
        </P
></LI
><LI
><P
>&#13;         Теперь у вас должен быть бинарник httpd, поддерживающий PHP!
        </P
></LI
></UL
>
     </P
><P
>&#13;      <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Замечание:</I
></SPAN
> Вы также можете использовать новый скрипт
      <VAR
CLASS="literal"
>./configure</VAR
> в Apache. Смотрите инструкции в файле
      <VAR
CLASS="literal"
>README.configure</VAR
>, входящем в ваш дистрибутив Apache.
      Также загляните в файл <TT
CLASS="filename"
>INSTALL</TT
> из дистрибутива PHP.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.not-running"
></A
><B
>10. </B
>
      Я следовал всем шагам по установке модульной версии для Apache на Unix,
      но мои PHP скрипты выводятся в моём браузере или я получаю запрос сохранить
      файл.
      </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Это означает, что по какой-то причине модуль PHP не вызывается.
      Перед тем как обращаться за помощью, проверьте три вещи:
      <P
></P
><UL
><LI
><P
>&#13;         Убедитесь, что запускаемый вами бинарник httpd действительно новый,
         только что построенный httpd. Для этого попробуйте запустить:
         <VAR
CLASS="literal"
>/path/to/binary/httpd -l</VAR
>
        </P
><P
>&#13;         Если вы не видете <TT
CLASS="filename"
>mod_php4.c</TT
> в списке,
         то вы запускаете не тот бинарник.
         Найдите и установите правильный бинарник.
        </P
></LI
><LI
><P
>&#13;         Убедитесь, что вы добавили правильный Mime Type в один из ваших
         <VAR
CLASS="literal"
>Apache .conf</VAR
> файлов.  Это должно быть:
         <VAR
CLASS="literal"
>AddType application/x-httpd-php3 .php3</VAR
> (for PHP 3)
        </P
><P
>&#13;         или <VAR
CLASS="literal"
>AddType application/x-httpd-php .php</VAR
> (for PHP 4)
        </P
><P
>&#13;         Также убедитесь, что эта строка AddType не попала внутрь  
         &#60;Virtualhost&#62; или &#60;Directory&#62; блока, так что она
         не будет применина к местонахождению вашего тестового скрипта.
        </P
></LI
><LI
><P
>&#13;         Наконец, между Apache 1.2 и Apache 1.3 расположение конфигурационных 
         файлов Apache по умолчанию изменилось. Вам надо проверить, что
         действительно читается тот конфигурационный файл, в который вы добавили
         строку AddType. Вы можете внести очевидную синтаксическую ошибку 
         в ваш <TT
CLASS="filename"
>httpd.conf</TT
> файл или какое-либо другое заметное изменение,
         которое покажет вам, что читается правильный файл. 
        </P
></LI
></UL
>
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.activate-module"
></A
><B
>11. </B
>
      Говорится использовать:
      <VAR
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</VAR
>,
      но такой файл не существует, поэтому я заменил это на
      <VAR
CLASS="literal"
>--activate-module=src/modules/php4/libmodphp4.a</VAR
>
      и оно не работает!? Что происходит?
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Заметьте, что файл <TT
CLASS="filename"
>libphp4.a</TT
> не должен существовать.
      Он будет создан в процессе!
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.ansi"
></A
><B
>12. </B
>
      Когда я пытаюсь собрать Apache c PHP, в виде статического модуля, используя
      <VAR
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</VAR
>
      он говорит, что мой компилятор не ANSI-совместимый.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Сообщение об ошибке вводит в заблуждение; это исправлено в более свежих
      версиях Apache.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.apxs"
></A
><B
>13. </B
>
      Когда я пытаюсь собрать PHP используя
      <VAR
CLASS="option"
>--with-apxs</VAR
>,
      я получаю странное сообщение об ошибке.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Проверьте три вещи. Во-первых, по какой-то причине, когда Apache создает
      Perl скрипт apxs, он получается без правильного компилятора и 
      переменных, задающих флаги.
      Найдите ваш apxs скрипт (попробуйте команду <B
CLASS="command"
>which apxs</B
>), 
      иногда он установлен как <TT
CLASS="filename"
>/usr/local/apache/bin/apxs</TT
>
      или <TT
CLASS="filename"
>/usr/sbin/apxs</TT
>.
      Откройте его и найдите строки, схожие с этими:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_CFLAGS_SHLIB  = ' ';          # substituted via Makefile.tmpl
my $CFG_LD_SHLIB      = ' ';          # substituted via Makefile.tmpl
my $CFG_LDFLAGS_SHLIB = ' ';          # substituted via Makefile.tmpl</PRE
></TD
></TR
></TABLE
>
      Если они так и выглядят, то вы нашли вашу проблему. Они могут содержать
      только пробелы или другие неправильные значения, такие как 'q()'.
      Измените эти строки на:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_CFLAGS_SHLIB  = '-fpic -DSHARED_MODULE'; # substituted via Makefile.tmpl
my $CFG_LD_SHLIB      = 'gcc';                   # substituted via Makefile.tmpl
my $CFG_LDFLAGS_SHLIB = q(-shared);              # substituted via Makefile.tmpl</PRE
></TD
></TR
></TABLE
>
      Вторая возможная проблема возникает только на Red Hat 6.1 и 6.2.
      Скрипт apxs, приходящий с Red Hat, сломан. Ищите эту строку:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_LIBEXECDIR    = 'modules';         # substituted via APACI install</PRE
></TD
></TR
></TABLE
>
      Если вы нашли вышеприведенную строку, измените её на следующее:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_LIBEXECDIR    = '/usr/lib/apache'; # substituted via APACI install</PRE
></TD
></TR
></TABLE
>
       И последнее, если вы переконфигурируете/переустанавливаете Apache,
       запустите <B
CLASS="command"
>make clean</B
> 
       после <B
CLASS="command"
>./configure</B
> и перед <B
CLASS="command"
>make</B
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.microtime"
></A
><B
>14. </B
>
      Во время выполнения <B
CLASS="command"
>make</B
> я получаю ошибки в microtime
      и множество всяких <VAR
CLASS="literal"
>RUSAGE_</VAR
>.
    </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Во время инсталяции, выполняя <B
CLASS="command"
>make</B
>,
      если вы сталкиваетесь с проблемами, похожими на следующее:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>microtime.c: In function `php_if_getrusage':
microtime.c:94: storage size of `usg' isn't known
microtime.c:97: `RUSAGE_SELF' undeclared (first use in this function)
microtime.c:97: (Each undeclared identifier is reported only once
microtime.c:97: for each function it appears in.)
microtime.c:103: `RUSAGE_CHILDREN' undeclared (first use in this function)
make[3]: *** [microtime.lo] Error 1
make[3]: Leaving directory `/home/master/php-4.0.1/ext/standard'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/home/master/php-4.0.1/ext/standard'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/master/php-4.0.1/ext'
make: *** [all-recursive] Error 1</PRE
></TD
></TR
></TABLE
>
     </P
><P
>&#13;      Ваша система сломана. Вы должны поправить ваши файлы 
      <TT
CLASS="filename"
>/usr/include</TT
>, установив пакет glibc-devel,
      который соответствует вашей glibc. Это абсолютно не зависит от PHP.
      Для доказательства попробуйте следующий простой тест:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>$ cat &#62;test.c &#60;&#60;X
#include &#60;sys/resource.h&#62;
X
$ gcc -E test.c &#62;/dev/null</PRE
></TD
></TR
></TABLE
>
      Если выдаются ошибки, вы знаете, что у вас беспорядок с include файлами.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.mysql.tempnam"
></A
><B
>15. </B
>
      При компиляции PHP с MySQL, configure выполняется нормально, 
      но во время <VAR
CLASS="literal"
>make</VAR
> я получаю ошибку типа следующего:
      <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>ext/mysql/libmysql/my_tempnam.o(.text+0x46): In function 
      my_tempnam': /php4/ext/mysql/libmysql/my_tempnam.c:103: the 
      use of tempnam' is dangerous, better use mkstemp'</I
></SPAN
>, 
      в чём дело?
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Во-первых, важно понимать, что это <VAR
CLASS="literal"
>Предупреждение</VAR
>,
      а не фатальная ошибка. Так как это последнее, что выводится во время
      <VAR
CLASS="literal"
>make</VAR
>, оно может выглядеть как фатальная ошибка,
      но это не так. Конечно, если ваш компилятор умирает на Предупреждениях
      (Warnings), то тогда да. Также имейте ввиду, что поддержка MySQL
      включена по умолчанию.
     </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Замечание: </B
>
       Начиная с PHP 4.3.2 вы также будете видеть следующуий текст после
       того как сборка (make) завершится:
      </P
><P
>&#13;       <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>Build complete.
        (It is safe to ignore warnings about tempnam and tmpnam).</PRE
></TD
></TR
></TABLE
>
      </P
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.upgrade"
></A
><B
>16. </B
>
      Я хочу обновить мой PHP. Где я могу найти строку 
      <B
CLASS="command"
>./configure</B
>, которая была использована для моей
      текущей PHP установки?
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Либо смотрите файл config.nice в дереве исходников вашей текущей PHP
      установки, либо, если это недоступно, просто выполните скрипт:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php phpinfo</font><font color="#007700">(); </font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
>
      В начале вывода будет находиться строка <B
CLASS="command"
>./configure</B
>,
      которая была использована для сборки текущего PHP.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.gdlibs"
></A
><B
>17. </B
>
      При сборке PHP с библиотекой GD, либо выдаются странные ошибки компиляции,
      либо segfault при выполнении.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Убедитесь, что ваша библиотека GD и PHP линкуются с одними и теми же 
      зависимыми библиотеками (например libpng).
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.installation.needgnu"
></A
><B
>18. </B
>
      При компиляции PHP я, кажется, получаю случайные ошибки, например она зависает.  
      Я использую Solaris, если это имеет значение.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Использование не GNU утилит во время компиляции PHP может вызвать проблемы.
      Чтобы быть уверенным, что компиляция PHP будет работать,
      используйте GNU утилиты. Например, в Solaris, использование  
      SunOS BSD-совместимой или Solaris версии <VAR
CLASS="literal"
>sed</VAR
>
      не будет работать, а GNU или Sun POSIX (xpg4) версии
      <VAR
CLASS="literal"
>sed</VAR
> будет. 
      Ссылки: <A
HREF="http://www.gnu.org/software/sed/sed.html"
TARGET="_top"
>GNU sed</A
>,
      <A
HREF="http://www.gnu.org/software/flex/flex.html"
TARGET="_top"
>GNU flex</A
>, and
      <A
HREF="http://www.gnu.org/software/bison/bison.html"
TARGET="_top"
>GNU bison</A
>.
     </P
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="faq.installation.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Начало</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="faq.using.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Установка</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="faq.html"
ACCESSKEY="U"
>Уровень выше</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Использование PHP</TD
></TR
></TABLE
></DIV
></div></center></div></td>
			<td><div style="display:none; width:200px;" id="o3" name="o3"><script charset="windows-1251" type="text/javascript" src="http://www.ozon.ru/PartnerTwinerNew.aspx?revident=bea9126b-c8e1-4bf5-b6d8-9a057f8feac6" ></script></div><script>o = document.getElementById('o3'); if(o) { var s = o.innerHTML; s = s.replace(/F6F6F6/gi,"FFFFFF"); o.innerHTML = s.replace(/padding-top: 10px; padding-bottom: 10px;/,"display:none;"); o.style.display = 'block'; } </script><br><div style="margin: 10px;"><script type="text/javascript"><!--
google_ad_client = "pub-4093271809023514";
/* 120x600, создано 01.11.2008 */
google_ad_slot = "0438855731";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div></td>
    		</tr>
  		</table>
    </td>
  </tr>
  <tr valign='bottom' height='1%'>
  <td>      <table width=100% cellspacing=0 cellpadding=5 border=0 bgcolor=#9999CC>
        <tr valign=center>
          <td class='phpcopyright' width='45%' align='left'>&nbsp;&nbsp;Engine <a  href="http://www.mnogosearch.org/">MnoGoSearch</a></td>
          <td class='phpcopyright' width='10%' align='center'>2007-2010 &copy <a  href="mailto:webmaster@php.ru">PHP.RU</a></td>
          <td class='phpcopyright' width='45%' align='right' >Powered by <a target="_blank" href="http://odware.ru">ODware</a> <a HREF="http://440hz.ru">440Hz</a> &nbsp;&nbsp;</td>
        </tr>
      </table>

    <div style="text-align: right; padding: 5px">
		<!--LiveInternet counter-->
		<script type="text/javascript">document.write('<a href="http://www.liveinternet.ru/click" target=_blank><img src="http://counter.yadro.ru/hit?t53.6;r' + escape(document.referrer) + ((typeof(screen)=='undefined')?'':';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?screen.colorDepth:screen.pixelDepth)) + ';u' + escape(document.URL) +';i' + escape('Жж'+document.title.substring(0,80)) + ';' + Math.random() + '" border=0 width=88 height=31 alt="" title="LiveInternet: показано число просмотров и посетителей за 24 часа"><\/a>');
		</script>
		<!--/LiveInternet-->
		<!-- SpyLOG -->
		<script src="http://tools.spylog.ru/counter2.2.js" type="text/javascript" id="spylog_code" counter="830950" ></script>
		<noscript><a href="http://u8309.50.spylog.com/cnt?cid=830950&f=3&p=0" target="_blank"><img src="http://u8309.50.spylog.com/cnt?cid=830950&p=0&f=4" alt='SpyLOG' border='0' width=88 height=31 ></a>
		</noscript>
		<!--/ SpyLOG -->
	</div>
</td>
  </tr>
</table>

<script>
<!--
document.SEARCH.QS.focus();
// --></script>

<!-- 
	как же вы все это читаете?
	440hz 
-->

</body>
</html>